---
title: Piano di risoluzione dei problemi di prestazioni per Office 365
ms.author: tracyp
author: MSFTTracyP
manager: laurawi
ms.date: 4/26/2017
ms.audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
ms.collection: Ent_O365
ms.custom: Adm_O365
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: e241e5d9-b1d8-4f1d-a5c8-4106b7325f8c
description: È necessario conoscere i passaggi da eseguire per identificare e correggere i ritardi, si blocca e un rallentamento delle prestazioni tra SharePoint Online, OneDrive for Business, Exchange Online o Skype Business online e i computer client? Prima di chiamare il supporto, in questo articolo consentono di risolvere i problemi relativi alle prestazioni di Office 365 e risolvere alcuni dei problemi più comuni.
ms.openlocfilehash: 629e65fe6d35237f33ae06fdeec380c670cd5e62
ms.sourcegitcommit: 0466a88133a42e2db4245f972cecb371721c9b5d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/06/2018
ms.locfileid: "23849369"
---
# <a name="performance-troubleshooting-plan-for-office-365"></a><span data-ttu-id="85dd7-104">Piano di risoluzione dei problemi di prestazioni per Office 365</span><span class="sxs-lookup"><span data-stu-id="85dd7-104">Performance troubleshooting plan for Office 365</span></span>

<span data-ttu-id="85dd7-p102">È necessario conoscere i passaggi da eseguire per identificare e correggere i ritardi, si blocca e un rallentamento delle prestazioni tra SharePoint Online, OneDrive for Business, Exchange Online o Skype Business online e i computer client? Prima di chiamare il supporto, in questo articolo consentono di risolvere i problemi relativi alle prestazioni di Office 365 e risolvere alcuni dei problemi più comuni.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p102">Do you need to know the steps to take to identify and fix lags, hangs, and slow performance between SharePoint Online, OneDrive for Business, Exchange Online, or Skype for Business Online, and your client computer? Before you call support, this article can help you troubleshoot Office 365 performance issues and even fix some of the most common issues.</span></span>
  
<span data-ttu-id="85dd7-p103">In questo articolo viene effettivamente un piano di azione di esempio che è possibile utilizzare per acquisire dati utili relative al problema di prestazioni quando è in corso. Alcuni problemi principali sono inclusi anche in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p103">This article is actually a sample action plan that you can use to capture valuable data about your performance issue as it's happening. Some top issues are also included in this article.</span></span>
    
<span data-ttu-id="85dd7-109">Se ha familiarità con le prestazioni di rete e si desidera creare un piano a lungo termine per monitorare le prestazioni tra i computer client e Office 365, esaminare [le prestazioni di Office 365 ottimizzazione e risoluzione dei problemi - Admin e professionisti IT](performance-tuning-using-baselines-and-history.md).</span><span class="sxs-lookup"><span data-stu-id="85dd7-109">If you're new to network performance and want to make a long term plan to monitor performance between your client machines and Office 365, take a look at [Office 365 performance tuning and troubleshooting - Admin and IT Pro](performance-tuning-using-baselines-and-history.md).</span></span>
  
## <a name="sample-performance-troubleshooting-action-plan"></a><span data-ttu-id="85dd7-110">Piano di azione sulla risoluzione dei problemi delle prestazioni di esempio</span><span class="sxs-lookup"><span data-stu-id="85dd7-110">Sample performance troubleshooting action plan</span></span>

<span data-ttu-id="85dd7-p104">In questo piano di azione composta da due parti; fase di preparazione e una fase di registrazione. Se si dispone di un problema di prestazioni direttamente ed è necessario eseguire la raccolta dei dati, è possibile avviare immediatamente a utilizzare questo piano.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p104">This action plan contains two parts; a preparation phase, and a logging phase. If you have a performance problem right now, and you need to do data collection, you can start using this plan right away.</span></span>
  
 <span data-ttu-id="85dd7-113">**Preparare il computer client**</span><span class="sxs-lookup"><span data-stu-id="85dd7-113">**Prepare the client computer**</span></span>
  
- <span data-ttu-id="85dd7-p105">Trovare un computer client che è possibile riprodurre il problema di prestazioni. In questo computer verrà utilizzato durante il corso di risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p105">Find a client computer that can reproduce the performance problem. This computer will be used during the course of troubleshooting.</span></span>
    
- <span data-ttu-id="85dd7-116">Annotare i passaggi che causano il problema delle prestazioni avvenire in modo che si è pronti per quanto riguarda ora da testare.</span><span class="sxs-lookup"><span data-stu-id="85dd7-116">Write down the steps that cause the performance problem to happen so you're ready when it comes time to test.</span></span>
    
- <span data-ttu-id="85dd7-117">Installare gli strumenti per la raccolta e la registrazione delle informazioni:</span><span class="sxs-lookup"><span data-stu-id="85dd7-117">Install tools for gathering and recording information:</span></span>
    
  - <span data-ttu-id="85dd7-118">Installare [Netmon 3.4](https://www.microsoft.com/en-us/download/details.aspx?id=4865) (oppure utilizzare uno strumento di traccia di rete equivalente).</span><span class="sxs-lookup"><span data-stu-id="85dd7-118">Install [Netmon 3.4](https://www.microsoft.com/en-us/download/details.aspx?id=4865) (or use an equivalent network tracing tool).</span></span> 
    
  - <span data-ttu-id="85dd7-119">Installare l'edizione di base gratuita di [HTTPWatch](https://www.httpwatch.com/download/) (oppure utilizzare uno strumento di traccia di rete equivalente).</span><span class="sxs-lookup"><span data-stu-id="85dd7-119">Install the free Basic Edition of [HTTPWatch](https://www.httpwatch.com/download/) (or use an equivalent network Tracing tool).</span></span> 
    
  - <span data-ttu-id="85dd7-120">Utilizzare il registratore di una schermata o eseguire il registratore delle operazioni (PSR.exe) provenienti da Windows Vista e versioni successive, per tenere traccia della procedura da seguire durante il test.</span><span class="sxs-lookup"><span data-stu-id="85dd7-120">Use a screen recorder or run the Steps Recorder (PSR.exe) that comes with Windows Vista and later, in order to keep a record of the steps you take during testing.</span></span>
    
 <span data-ttu-id="85dd7-121">**Registro problema delle prestazioni**</span><span class="sxs-lookup"><span data-stu-id="85dd7-121">**Log the performance issue**</span></span>
  
- <span data-ttu-id="85dd7-122">Chiudere tutti i browser Internet estranei.</span><span class="sxs-lookup"><span data-stu-id="85dd7-122">Close all extraneous Internet browsers.</span></span>
    
- <span data-ttu-id="85dd7-123">Avviare il registratore passaggi o un altro registratore dello schermo.</span><span class="sxs-lookup"><span data-stu-id="85dd7-123">Start the Steps Recorder, or another screen recorder.</span></span>
    
- <span data-ttu-id="85dd7-124">Avviare l'acquisizione Netmon (o lo strumento di traccia di rete).</span><span class="sxs-lookup"><span data-stu-id="85dd7-124">Start your Netmon capture (or network tracing tool).</span></span>
    
- <span data-ttu-id="85dd7-125">Cancellare la cache DNS nel computer client dalla riga di comando digitando ipconfig /flushdns.</span><span class="sxs-lookup"><span data-stu-id="85dd7-125">Clear your DNS cache on the client computer from the command line by typing ipconfig /flushdns.</span></span>
    
- <span data-ttu-id="85dd7-126">Avviare una nuova sessione di browser e attivare HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="85dd7-126">Start a new browser session and turn on HTTPWatch.</span></span>
    
- <span data-ttu-id="85dd7-127">Facoltativo: Se si esegue il test Exchange Online, eseguire lo strumento Analizzatore prestazioni Client di Exchange dalla console di amministrazione di Office 365.</span><span class="sxs-lookup"><span data-stu-id="85dd7-127">Optional: If you are testing Exchange Online, run the Exchange Client Performance Analyzer tool from the Office 365 admin console.</span></span>
    
- <span data-ttu-id="85dd7-128">Riprodurre i passaggi esatti che causano problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="85dd7-128">Reproduce the exact steps that cause the performance issue.</span></span>
    
- <span data-ttu-id="85dd7-129">Arrestare il Netmon o traccia di altre dello strumento.</span><span class="sxs-lookup"><span data-stu-id="85dd7-129">Stop your Netmon or other tool's trace.</span></span>
    
- <span data-ttu-id="85dd7-130">Nella riga di comando eseguire una route di traccia per la sottoscrizione a Office 365 digitando il comando seguente e quindi premere INVIO:</span><span class="sxs-lookup"><span data-stu-id="85dd7-130">At the command line, run a trace route to your Office 365 subscription by typing the following command and then pressing ENTER:</span></span>
    
    `tracert \< *subscriptionname*  \>.onmicrosoft.com` 
    
- <span data-ttu-id="85dd7-p106">Interrompere la registrazione di passaggi e salvare il video. Assicurarsi di includere la data e ora di acquisizione e se viene dimostrata positivo o negativo sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p106">Stop the Steps Recorder and save the video. Be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>
    
- <span data-ttu-id="85dd7-p107">Salvare i file di traccia. Nuovamente, è necessario includere la data e ora di acquisizione e se viene dimostrata positivo o negativo sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p107">Save the trace files. Again, be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>
    
<span data-ttu-id="85dd7-p108">Se non si ha familiarità con l'esecuzione di strumenti illustrati in questo articolo, tenere presente che poiché Microsoft fornisce i passaggi successivo. Per gli utenti di effettuare questo tipo di acquisizione di rete, è possibile ignorare su [come raccogliere le linee di base](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), che descrive il filtro e leggere i registri.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p108">If you're not familiar with running the tools mentioned in this article, don't worry because we provide those steps next. If you're accustomed to doing this kind of network capturing, you can skip to [How to collect baselines](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), which describes filtering and reading the logs.</span></span> 
  
## <a name="flush-the-dns-cache-first"></a><span data-ttu-id="85dd7-137">Svuotare la Cache DNS prima</span><span class="sxs-lookup"><span data-stu-id="85dd7-137">Flush the DNS Cache first</span></span>

<span data-ttu-id="85dd7-p109">Perché? Rimuovendo il timeout della cache DNS si sta iniziando test una situazione pulita. Deselezionando la cache si sta reimpostare il contenuto di sistema di risoluzione DNS per le voci più aggiornate. Tenere presente che uno svuotamento non rimuove le voci del file HOSTs. Se si utilizza le voci del file HOST in modo esteso, è consigliabile copiare tali voci in un file in un'altra directory e quindi svuotare il file HOST.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p109">Why? By flushing out the DNS cache you're starting your tests with a clean slate. By clearing the cache, you're resetting the DNS resolver contents to the most up-to-date entries. Remember that a flush does not remove HOSTs file entries. If you use HOST file entries extensively, you should copy those entries out to a file in another directory and then empty the HOST file.</span></span>
  
 <span data-ttu-id="85dd7-143">**Svuotare la cache di sistema di risoluzione DNS**</span><span class="sxs-lookup"><span data-stu-id="85dd7-143">**Flush your DNS resolver cache**</span></span>
  
1. <span data-ttu-id="85dd7-144">Aprire il prompt dei comandi (entrambi **avviare** \> **eseguire** \> **cmd** o la **chiave di Windows** \> **cmd**).</span><span class="sxs-lookup"><span data-stu-id="85dd7-144">Open the command prompt, (either **Start** \> **Run** \> **cmd** or **Windows key** \> **cmd**).</span></span>
    
2. <span data-ttu-id="85dd7-145">Digitare il comando seguente e premere INVIO:`ipconfig /flushdns`</span><span class="sxs-lookup"><span data-stu-id="85dd7-145">Type the following command and press ENTER: `ipconfig /flushdns`</span></span>
    
## <a name="netmon"></a><span data-ttu-id="85dd7-146">Netmon</span><span class="sxs-lookup"><span data-stu-id="85dd7-146">Netmon</span></span>

<span data-ttu-id="85dd7-p110">Strumento Microsoft per il monitoraggio della rete ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analizza i pacchetti, ovvero traffico, che passa tra i computer nelle reti. Utilizzando Netmon con Office 365 è possibile acquisire, visualizzazione, il traffico di traccia e leggere le intestazioni dei pacchetti, identificare i dispositivi intermedi, controllare le impostazioni importanti su hardware di rete, cercare pacchetti ignorati e seguire il flusso del traffico tra i computer aziendali rete e Office 365. Poiché il corpo del traffico effettivo viene crittografato, vale a dire che (viaggia sulla porta 443 tramite TLS/SSL, è possibile leggere i file da inviare. In realtà, viene visualizzato una non filtrata traccia del percorso che accetta i pacchetti che consentono di individuare il comportamento di problema.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p110">Microsoft's Network Monitoring tool ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analyzes packets, that is traffic, that passes between computers on networks. By using Netmon to trace traffic with Office 365 you can capture, view, and read packet headers, identify intervening devices, check important settings on network hardware, look for dropped packets, and follow the flow of traffic between computers on your corporate network and Office 365. Because the actual body of the traffic is encrypted, that is, it(travels on port 443 via SSL/TLS, you can't read the files being sent. Instead, you get an unfiltered trace of the path that the packet takes which can help you track down the problem behavior.</span></span>
  
<span data-ttu-id="85dd7-p111">Assicurarsi che non applicare un filtro in questa fase. In realtà, eseguire i passaggi e viene illustrato il problema prima dell'interruzione di traccia e il salvataggio.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p111">Be sure you don't apply a filter at this time. Instead, run through the steps and demonstrate the problem before stopping the trace and saving.</span></span>
  
<span data-ttu-id="85dd7-153">Dopo aver installato Netmon 3.4, aprire lo strumento ed eseguire la procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="85dd7-153">After you install Netmon 3.4, open the tool and take these steps:</span></span>
  
 <span data-ttu-id="85dd7-154">**Eseguire una traccia Netmon e riprodurre il problema**</span><span class="sxs-lookup"><span data-stu-id="85dd7-154">**Take a Netmon trace and reproduce the issue**</span></span>
  
1. <span data-ttu-id="85dd7-155">Sulla barra di avvio Netmon 3.4.</span><span class="sxs-lookup"><span data-stu-id="85dd7-155">Launch Netmon 3.4.</span></span>
    
    <span data-ttu-id="85dd7-p112">Esistono tre riquadri nella pagina **iniziale** : **Acquisisce recenti**, **Selezionare reti**e la Guida introduttiva a Microsoft Network Monitor 3.4 **. Avviso**. Riquadro Seleziona reti inoltre si otterrà un elenco delle reti predefinito da cui è possibile acquisire. Assicurarsi che le schede di rete siano selezionate di seguito.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p112">There are three panes on the **Start** page: **Recent Captures**, **Select Networks**, and the **Getting Started with Microsoft Network Monitor 3.4. Notice**. The Select Networks panel will also give you a list of the default networks from which you can capture. Be sure that network cards are selected here.</span></span>
    
2. <span data-ttu-id="85dd7-p113">Fare clic su **Nuovo ritaglio** nella parte superiore della pagina **iniziale** . Aggiunge una nuova scheda accanto **avviare** scheda pagina denominata **Capture 1**.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p113">Click **New Capture** at the top of the **Start** page. This adds a new tab beside the **Start** page tab called **Capture 1**.</span></span>
    
    ![Interfaccia con il nuovo ritaglio, Start, utente del Nemon e arrestare i pulsanti evidenziati.](media/d4527d84-62ec-4301-82d5-e0166ff71f20.PNG)
  
3. <span data-ttu-id="85dd7-162">Per acquisire un' semplice, fare clic su **Start** sulla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="85dd7-162">To take a simple capture, click **Start** on the toolbar.</span></span> 
    
4. <span data-ttu-id="85dd7-163">Riprodurre i passaggi che presentano un problema di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="85dd7-163">Reproduce the steps that present a performance issue.</span></span>
    
5. <span data-ttu-id="85dd7-p114">Fare clic su **Interrompi** \> **File** \> **Salva con nome**. Ricordarsi di fornire la data e ora al fuso orario e di segnalare se viene illustrato come non valida o buone prestazioni.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p114">Click **Stop** \> **File** \> **Save As**. Remember to give the date and time with the time zone and to mention if it demonstrates bad or good performance.</span></span>
    
## <a name="httpwatch"></a><span data-ttu-id="85dd7-166">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="85dd7-166">HTTPWatch</span></span>

<span data-ttu-id="85dd7-p115">[HTTPWatch](https://www.httpwatch.com/download/) è disponibile in tariffe e un'edizione gratuita. Versione di base gratuito sono descritte tutte le informazioni che necessarie per questo test. Monitor HTTPWatch momento del caricamento di pagina e il traffico di rete direttamente dalla finestra del browser. HTTPWatch è un plug-in Internet Explorer in forma grafica descrive le prestazioni. L'analisi possono essere salvato e visualizzarli in HTTPWatch Studio.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p115">[HTTPWatch](https://www.httpwatch.com/download/) comes in charged, and a free edition. The free Basic Edition covers everything you need for this test. HTTPWatch monitors network traffic and page load time right from your browser window. HTTPWatch is a plug-in to Internet Explorer that graphically describes performance. The analysis can be saved and viewed in HTTPWatch Studio.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="85dd7-p116">Se si utilizza un altro browser, ad esempio Firefox, Google Chrome, o se non è possibile installare HTTPWatch in Internet Explorer, aprire una nuova finestra del browser e premere F12 sulla tastiera. Verrà visualizzato lo strumento per gli sviluppatori popup nella parte inferiore del browser. Se si utilizza Opera, premere CTRL + MAIUSC + I per il controllo Web, fare clic sulla scheda di **rete** e il completamento della verifica indicate di seguito. Le informazioni possono essere leggermente diverse, ma vengono caricate ancora da visualizzare in millisecondi. > HTTPWatch anche è molto utile per problemi relativi ai tempi di caricamento delle pagine SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p116">If you use another browser, such as Firefox, Google Chrome, or if you can't install HTTPWatch in Internet Explorer, open a new browser window and press F12 on your keyboard. You should see the Developer Tool pop-up at the bottom of your browser. If you use Opera, press CTRL+SHIFT+I for Web Inspector, then click the **Network** tab and complete the testing outlined below. The information will be slightly different, but load times will still be displayed in milliseconds. > HTTPWatch is also very useful for issues with SharePoint Online page load times.</span></span> 
  
 <span data-ttu-id="85dd7-177">**Eseguire HTTPWatch e riprodurre il problema**</span><span class="sxs-lookup"><span data-stu-id="85dd7-177">**Run HTTPWatch and reproduce the issue**</span></span>
  
1. <span data-ttu-id="85dd7-p117">HTTPWatch è un browser plug-in, in modo che lo strumento nel browser l'esposizione è leggermente diverso per ogni versione di Internet Explorer. In genere, è possibile trovare HTTPWatch sotto la barra dei comandi nel browser Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p117">HTTPWatch is a browser plug-in, so exposing the tool in the browser is slightly different for each version of Internet Explorer. Typically, you can find HTTPWatch under the Commands bar in the Internet Explorer browser. </span></span></br><span data-ttu-id="85dd7-p118">Se il plug-in HTTPWatch non viene visualizzata nella finestra del browser, controllo della versione del browser con fare clic su Guida \> su, o versioni successive di Internet Explorer, fare clic sul simbolo di ingranaggio e informazioni su Internet Explorer. Per avviare la barra dei **comandi** , fare clic sulla barra dei menu in Internet Explorer e fare clic su **barra dei comandi**. In passato, HTTPWatch è stati associati con i comandi e le barre di Explorer, pertanto una volta si installa, se non è immediatamente visualizzata l'icona (anche dopo il riavvio) controllare **gli strumenti**e le barre degli strumenti per l'icona. Tenere presente che è possibile personalizzare le barre degli strumenti e le opzioni possono essere aggiunte loro.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p118">If you don't see the HTTPWatch plug-in in your browser window, check the version of your browser by click Help \> About, or, in later versions of Internet Explorer, click the gear symbol and About Internet Explorer. To launch the **Commands** bar, right-click the menu bar in Internet Explorer and click **Commands bar**. In the past, HTTPWatch has been associated with both the Commands and the Explorer bars, so once you install, if you don't immediately see the icon (even after reboot) check **Tools**, and your toolbars for the icon. Remember that toolbars can be customized and options can be added to them.</span></span></br>
    <span data-ttu-id="85dd7-184">![Comando della barra degli strumenti Internet Explorer con l'icona HTTPWatch visualizzata.](media/198590b0-d7b1-4bff-a6ad-e4ec3a1e83df.png)</span><span class="sxs-lookup"><span data-stu-id="85dd7-184">![Internet Explorer's Command toolbar with the HTTPWatch icon displayed.](media/198590b0-d7b1-4bff-a6ad-e4ec3a1e83df.png)</span></span>
  
2. <span data-ttu-id="85dd7-p119">Sulla barra di avvio HTTPWatch in una finestra del browser Internet Explorer. Verrà visualizzato ancorato alla parte inferiore della finestra del browser. Fare clic su **Record**.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p119">Launch HTTPWatch in an Internet Explorer browser window. It will appear docked to the browser at the bottom of that window. Click **Record**.</span></span>
    
3. <span data-ttu-id="85dd7-p120">Riprodurre la procedura esatta per il problema di prestazioni. Fare clic sul pulsante **Interrompi** HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p120">Reproduce the exact steps involved in the performance issue. Click the **Stop** button in HTTPWatch.</span></span> 
    
4. <span data-ttu-id="85dd7-p121">**Salvare** il HTTPWatch o **inviare tramite posta elettronica**. Ricordarsi di nome del file in modo che includa informazioni su data e ora e l'indicazione del fatto l'orologio contiene una dimostrazione delle prestazioni positivo o negativo.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p121">**Save** the HTTPWatch or **Send by Email**. Remember to name the file so that it includes date and time information and an indication of whether your Watch contains a demonstration of good or bad performance.</span></span></br><span data-ttu-id="85dd7-192">![HTTPWatch che mostra la scheda Rete per il caricamento pagina della homepage di Office 365.](media/021a2c64-d581-49fd-adf4-4c364f589d75.PNG)</span><span class="sxs-lookup"><span data-stu-id="85dd7-192">![HTTPWatch showing the Network tab for a page load of the Office 365 homepage.](media/021a2c64-d581-49fd-adf4-4c364f589d75.PNG)</span></span></br>
    <span data-ttu-id="85dd7-p122">Questa schermata è dalla versione di HTTPWatch Professional. È possibile aprire le tracce attenzione la versione di base in un computer con una versione Professional e leggere disponibili. Informazioni aggiuntive potrebbero essere disponibile dalla traccia tramite il metodo.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p122">This screen shot is from the Professional version of HTTPWatch. You can open traces taken in the Basic Version on a computer with a Professional version and read it there. Extra information may be available from the trace through that method.</span></span>
    
## <a name="problem-steps-recorder"></a><span data-ttu-id="85dd7-196">Registrazione azioni</span><span class="sxs-lookup"><span data-stu-id="85dd7-196">Problem Steps Recorder</span></span>

<span data-ttu-id="85dd7-p123">Passaggi registratore o PSR.exe, consente di registrare problemi in tempo reale. È uno strumento molto utile e molto semplice da eseguire.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p123">Steps Recorder, or PSR.exe, allows you to record issues as they are occurring. It's a very useful tool and very simple to run.</span></span>
  
 <span data-ttu-id="85dd7-199">**Eseguire passaggi di registrazione (PSR.exe) per registrare il proprio lavoro**</span><span class="sxs-lookup"><span data-stu-id="85dd7-199">**Run Problem Steps Recorder (PSR.exe) to record your work**</span></span>
  
1. <span data-ttu-id="85dd7-200">Utilizzare **Avvia** \> **eseguire** \> digitare **PSR.exe** \> **OK**, oppure fare clic su **Chiave Windows** \> digitare **PSR.exe** \> e quindi premere INVIO.</span><span class="sxs-lookup"><span data-stu-id="85dd7-200">Either use **Start** \> **Run** \> type **PSR.exe** \> **OK**, or, click the **Windows Key** \> type **PSR.exe** \> and then press ENTER.</span></span> 
    
2. <span data-ttu-id="85dd7-p124">Quando viene visualizzata la finestra PSR.exe piccola, fare clic su **Avvia Record** e riprodurre i passaggi riprodurre il problema di prestazioni. È possibile aggiungere commenti in base alle esigenze, fare clic su **Aggiungere commenti**.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p124">When the small PSR.exe window appears, click **Start Record** and reproduce the steps that reproduce the performance issue. You can add comments as needed, by clicking **Add Comments**.</span></span>
    
3. <span data-ttu-id="85dd7-p125">Fare clic su **Interrompi Record** dopo avere completato i passaggi. Se il problema delle prestazioni è un pagina di rendering, attendere il rendering prima di interrompere la registrazione della pagina.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p125">Click **Stop Record** when you have completed the steps. If the performance issue is a page render, wait for the page to render before you stop the recording.</span></span> 
    
4. <span data-ttu-id="85dd7-205">Fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="85dd7-205">Click **Save**.</span></span>
    
![Cattura di schermata del registratore passaggi o PSR.exe.](media/8542b0aa-a3ff-4718-8dc4-43f5521c6c34.PNG)
  
<span data-ttu-id="85dd7-p126">Data e ora viene registrato automaticamente. Collega il determinate di traccia Netmon e HTTPWatch nel tempo e consente la precisione di risoluzione dei problemi. Data e ora del record determinate possono mostrare che un minuto passato tra l'account di accesso e l'esplorazione, ad esempio gli URL e il rendering parziale del sito di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p126">The date and time is recorded for you. This links your PSR to your Netmon trace and HTTPWatch in time, and helps with precision troubleshooting. The date and time in the PSR record can show that a minute passed between the login and browsing of the URL and the partial render of the admin site, for example.</span></span>
  
## <a name="read-your-traces"></a><span data-ttu-id="85dd7-210">Leggere le tracce</span><span class="sxs-lookup"><span data-stu-id="85dd7-210">Read your traces</span></span>

<span data-ttu-id="85dd7-p127">Non è possibile fornire agli tutto il contenuto sulla rete e la risoluzione dei problemi di prestazioni che si desidera ottenere tramite un articolo. Guida buone prestazioni ha esperienza e conoscere il funzionamento della rete ed esegue in genere. Ma è possibile eseguire l'arrotondamento l'elenco dei problemi principali e Mostra come strumenti può facilitare consente di eliminare i problemi più comuni.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p127">It isn't possible to teach everything about network and performance troubleshooting that someone would need to know via an article. Getting good at performance takes experience, and knowledge of how your network works and usually performs. But it is possible to round up a list of top issues and show how tools can make it easier for you to eliminate the most common problems.</span></span>
  
<span data-ttu-id="85dd7-p128">Se si desidera rispondere competenze leggere le tracce di rete per i siti di Office 365, non esiste alcun docente migliori rispetto a creare regolarmente le tracce dei carichi di pagina e acquisire esperienza eseguirne la lettura. Ad esempio, quando possibile, caricare un servizio di Office 365 e il processo di analisi. Filtrare la traccia per il traffico DNS o FrameData per il nome del servizio che si è passati di ricerca. Analizzare la traccia per avere un'idea delle operazioni che si verificano quando viene caricato il servizio. Ciò consentirà di informazioni su quali normale caricamento della pagina dovrebbe essere simile e nel caso di risoluzione dei problemi, in particolare per quanto riguarda le prestazioni, confronto tra le tracce buone a non valida può spiegano che una quantità elevata.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p128">If you want to pick up skills reading network traces for your Office 365 sites, there is no better teacher than creating traces of page loads regularly and gaining experience reading them. For example, when you have a chance, load an Office 365 service and trace the process. Filter the trace for DNS traffic, or search the FrameData for the name of the service you browsed. Scan the trace to get an idea of the steps that occur when the service loads. This will help you learn what normal page load should look like, and in the case of troubleshooting, particularly around performance, comparing good to bad traces can teach you a lot.</span></span>
  
<span data-ttu-id="85dd7-p129">Netmon utilizza Microsoft Intellisense nel campo filtro visualizzazione. IntelliSense o il completamento del codice intelligente, è che invece di cui si digita un periodo e vengono visualizzate tutte le opzioni disponibili in una casella di riepilogo a discesa selezione. Se, ad esempio, si è preoccupazione di adattamento della finestra TCP, è possibile trovare il modo in cui a un filtro (ad esempio `.protocol.tcp.window < 100`) in questo modo.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p129">Netmon uses Microsoft Intellisense in the Display filter field. Intellisense, or intelligent code completion, is that trick where you type in a period and all available options are displayed in a drop-down selection box. If, for example, you are worried about TCP window scaling, you can find your way to a filter (such as  `.protocol.tcp.window < 100`) by this means.</span></span>
  
![Cattura di schermata di Netmon che indicano che il campo filtro visualizzazione utilizza intellisense.](media/75a56c11-9a60-47ee-a100-aabdfb1ba10f.PNG)
  
<span data-ttu-id="85dd7-p130">Netmon tracce possono contenere una grande quantità di traffico. Se non si è pratici di eseguirne la lettura, è probabile che l'utente sarà sovraccarico aprendo la traccia per la prima volta. Il primo consiste nella separare il segnale dal rumore di fondo nella traccia. Test con Office 365 e che sia il traffico che si desidera visualizzare. Se consentono di esplorare le tracce, potrebbe non essere questo elenco.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p130">Netmon traces can have a lot of traffic in them. If you aren't experienced with reading them, it's likely you will be overwhelmed opening the trace the first time. The first thing to do is separate the signal from the background noise in the trace. You tested against Office 365, and that's the traffic you want to see. If you are used to navigating through traces, you may not need this list.</span></span>
  
<span data-ttu-id="85dd7-p131">Il traffico tra il client e Office 365 passa tramite TLS, il che significa che il corpo del traffico verrà crittografato e non leggibili in una traccia Netmon generica. Analisi delle prestazioni non ha necessità di conoscere le specifiche per le informazioni nel pacchetto. È tuttavia molto interessati le intestazioni dei pacchetti e le informazioni in essi contenute.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p131">Traffic between your client and Office 365 travels via TLS, which means that the body of the traffic will be encrypted and not readable in a generic Netmon trace. Your performance analysis doesn't need to know the specifics of the information in the packet. It is, however, very interested in packet headers and the information that they contain.</span></span>
  
 <span data-ttu-id="85dd7-231">**Suggerimenti per ottenere una buona traccia**</span><span class="sxs-lookup"><span data-stu-id="85dd7-231">**Tips to get a good trace**</span></span>
  
- <span data-ttu-id="85dd7-p132">Verificare se il valore dell'indirizzo IPv4 o IPv6 del computer client. È possibile ottenere al prompt dei comandi digitando **IPConfig** e quindi premere INVIO. Conoscenza di questo indirizzo consentirà di identificare immediatamente se il traffico nella traccia comporta direttamente il computer client. Se non esiste un proxy noto, effettuare il ping e ottenere anche al relativo indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p132">Know the value of the IPv4 or IPv6 address of your client computer. You can get this from the command prompt by typing **IPConfig** and then pressing ENTER. Knowing this address will let you tell at a glance whether the traffic in the trace directly involves your client computer. If there is a known proxy, ping it and get its IP address as well.</span></span> 
    
- <span data-ttu-id="85dd7-p133">Svuotare la cache di sistema di risoluzione DNS e, se possibile, chiudere tutti i browser ad eccezione di quello in cui si esegue il test. Se non si è in grado di eseguire questa operazione, ad esempio, se il supporto utilizza uno strumento basato su browser per visualizzare il desktop del computer client, essere pronti filtrare la traccia.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p133">Flush your DNS resolver cache and, if possible, close all browsers except the one in which you are running your tests. If you are not able to do this, for instance, if support is using some browser-based tool to see your client computer's desktop, be prepared to filter your trace.</span></span>
    
- <span data-ttu-id="85dd7-p134">In una traccia occupata, individuare il servizio Office 365 che si sta utilizzando. Se si è mai o raramente visto il traffico prima, questo è un passaggio utile per la separazione problema delle prestazioni da altri rumore di rete. Esistono alcuni modi per eseguire questa operazione. Direttamente prima di effettuare i test, è possibile utilizzare ping o PsPing all'URL del servizio specifico ( `ping outlook.office365.com` e/o `psping -4 microsoft-my.sharepoint.com:443`, per alcuni esempi). È possibile trovare anche facilmente tale PsPing in una traccia Netmon (in base al nome di processo). In questo modo si un punto di partenza alla ricerca.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p134">In a busy trace, locate the Office 365 service that you're using. If you've never or seldom seen your traffic before, this is a helpful step in separating the performance issue from other network noise. There are a few ways to do this. Directly before your test, you can use ping or, PsPing, to the URL of the specific service ( `ping outlook.office365.com` and/or  `psping -4 microsoft-my.sharepoint.com:443`, for examples) . You can also easily find that PsPing in a Netmon trace (by its process name). That will give you a place to start looking.</span></span>
    
    <span data-ttu-id="85dd7-p135">Se si utilizza solo traccia Netmon al momento del problema, che è necessario è troppo. Per orientare familiarità, utilizzare un filtro come `ContainsBin(FrameData, ASCII, "office")` o `ContainsBin(FrameData, ASCII, "outlook")`. È possibile registrare il numero di fotogrammi dal file di traccia. È inoltre possibile scorrere il riquadro Riepilogo cornice verso destra e cercare nella colonna ID di conversazione. Non vi è un numero indicato disponibili per l'ID di questa conversazione specifica che possono registrare e visualizzare in isolamento più avanti. Ricordarsi di rimuovere il filtro prima di applicare un altro filtro.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p135">If you're only using Netmon tracing at the time of the problem, that's okay too. To orient yourself, use a filter like  `ContainsBin(FrameData, ASCII, "office")` or  `ContainsBin(FrameData, ASCII, "outlook")`. You can record your frame number from the trace file. You may also want to scroll the Frame Summary pane all the way to the right and look for the Conversation ID column. There is a number indicated there for the ID of this specific conversation that you can also record and look at in isolation later. Remember to remove this filter before applying any other filtering.</span></span>
    
> [!TIP]
> <span data-ttu-id="85dd7-p136">Netmon è molto utili filtri predefiniti. Provare il pulsante "Load Filter" nella parte superiore del riquadro del filtro di **visualizzazione** .</span><span class="sxs-lookup"><span data-stu-id="85dd7-p136">Netmon has a lot of helpful built-in filters. Try the "Load Filter" button at the top of the **Display** filter pane.</span></span> 
  
![Individuare l'IP con PSPing alla riga di comando nel computer client.](media/4c43ac67-e28e-4536-842d-7add7aa28847.PNG)
  
![Traccia Netmon dal client con lo stesso comando PSPing attraverso il filtro TCP. Flags.Syn = = 1.](media/0ae7ef7d-e003-4d01-a006-dc49bd1fcef2.PNG)
  
<span data-ttu-id="85dd7-p137">Acquisisci familiarità con il traffico e informazioni su come individuare le informazioni che necessarie. Ad esempio, viene illustrato come determinare i pacchetti la traccia sono il primo riferimento al servizio Office 365 in uso (ad esempio, "Outlook").</span><span class="sxs-lookup"><span data-stu-id="85dd7-p137">Get familiar with your traffic, and learn to locate the information you need. For example, learn to determine which packet in the trace has the first reference to the Office 365 service you're using (like "Outlook").</span></span>
    
<span data-ttu-id="85dd7-256">Tenendo in linea di Outlook Office 365 come esempio, il traffico inizia simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="85dd7-256">Taking Office 365 Outlook Online as an example, the traffic begins something like this:</span></span>
  
- <span data-ttu-id="85dd7-p138">Query Standard DNS e risposta DNS per outlook.office365.com con corrispondenza QueryIDs. È importante notare l'Offset tempo per questo risolvere, nonché where nel mondo del DNS globali di Office 365 invia la richiesta per la risoluzione dei nomi. In teoria, nel sistema locale come possibile, anziché a metà in tutto il mondo. (Tale operazione può essere seguita da alcuni account di accesso online il traffico DNS.)</span><span class="sxs-lookup"><span data-stu-id="85dd7-p138">DNS Standard Query and DNS Response for outlook.office365.com with matching QueryIDs. It's important to note the Time Offset for this turn-around, as well as where in the world the Office 365 Global DNS sends the request for name resolution. Ideally, as locally as possible, rather than half-way across the world. (This may be followed by some DNS traffic the online login.)</span></span>
    
- <span data-ttu-id="85dd7-261">Un HTTP GET-richiesta il cui stato spostato in modo permanente (301) di report</span><span class="sxs-lookup"><span data-stu-id="85dd7-261">A HTTP GET Request whose status report Moved Permanently (301)</span></span>
    
- <span data-ttu-id="85dd7-p139">Traffico RW inclusi RW connettere le richieste e risposte di connessione. (Si tratta di Remote Winsock viene stabilita una connessione automaticamente).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p139">RWS Traffic including RWS Connect requests and Connect replies. (This is Remote Winsock making a connection for you.)</span></span>
    
- <span data-ttu-id="85dd7-p140">Conversazione SYN TCP e TCP SYN/riconoscimento. Una quantità elevata di impostazioni in questa conversazione influire sulle prestazioni del.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p140">A TCP SYN and TCP SYN/ACK conversation. A lot of the settings in this conversation impact your performance.</span></span>
    
- <span data-ttu-id="85dd7-p141">Quindi una serie di traffico TLS:TLS che corrisponde a cui l'handshake TLS e le conversazioni certificato TLS effettuati. (Memorizza che i dati vengono crittografati tramite TLS/SSL).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p141">Then a series of TLS:TLS traffic which is where the TLS handshake and TLS certificate conversations take place. (Remember the data is encrypted via SSL/TLS.)</span></span>
    
<span data-ttu-id="85dd7-p142">Tutte le parti del traffico sono importanti e connessa, ma piccole parti dell'analisi contengono informazioni particolarmente importanti per quanto riguarda la risoluzione dei problemi di prestazioni, pertanto verrà posta attenzione su tali aree. Inoltre, poiché è stata effettuata sufficienti prestazioni di Office 365 risoluzione dei problemi in Microsoft per compilare un elenco di problemi comuni dieci principali, verrà posta attenzione su tali problemi e su come utilizzare gli strumenti che siamo obbligati a essi radice fuori Avanti.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p142">All parts of the traffic are important and connected, but small portions of the trace contain information particularly important in terms of performance troubleshooting, so we'll focus on those areas. Also, since we've done enough Office 365 performance troubleshooting at Microsoft to compile a Top Ten list of common problems, we'll focus on those issues and how to use the tools we have to root them out next.</span></span>
  
<span data-ttu-id="85dd7-p143">Se non sono stati installati ed è possibile procedere, la matrice di seguito consente di utilizzare gli strumenti diverse di. Quando possibile. Vengono forniti collegamenti ai punti di installazione. L'elenco include comuni strumenti di traccia di rete come [Netmon](https://www.microsoft.com/en-us/download/details.aspx?id=4865) e [Wireshark](https://www.wireshark.org/), ma utilizzare qualsiasi strumento di traccia che si ha familiarità con, in cui sta abituati per filtrare il traffico di rete. Quando si sta eseguendo il test, tenere presenti:</span><span class="sxs-lookup"><span data-stu-id="85dd7-p143">If you haven't installed them all ready, the matrix below makes use of several tools. Where possible. Links are provided to the installation points. The list includes common network tracing tools like [Netmon](https://www.microsoft.com/en-us/download/details.aspx?id=4865) and [Wireshark](https://www.wireshark.org/), but use any tracing tool you are comfortable with, and in which you're accustomed to filtering network traffic. When you're testing, remember:</span></span>
  
-  <span data-ttu-id="85dd7-p144">*Chiudere il browser e con un solo browser in esecuzione di test* - questo consente di ridurre il traffico complessivo di acquisire. Tale scelta risulta per una traccia meno occupata.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p144">*Close your browsers, and test with only one browser running*  - This will reduce the overall traffic you capture. It makes for a less busy trace.</span></span> 
    
-  <span data-ttu-id="85dd7-277">*Svuotare la cache di sistema di risoluzione DNS nel computer client* , che consente di una situazione pulita quando si inizia a richiedere l'acquisizione di un'analisi più lineare.</span><span class="sxs-lookup"><span data-stu-id="85dd7-277">*Flush your DNS resolver cache on the client computer*  - This will give you a clean slate when you start to take your capture, for a cleaner trace.</span></span> 
    
## <a name="some-top-issues"></a><span data-ttu-id="85dd7-278">Alcuni problemi principali</span><span class="sxs-lookup"><span data-stu-id="85dd7-278">Some Top Issues</span></span>

<span data-ttu-id="85dd7-279">Alcuni problemi comuni che potrebbero verificarsi e su come trovare la traccia di rete.</span><span class="sxs-lookup"><span data-stu-id="85dd7-279">Some common issues you may face and how to find them in your Network trace.</span></span>

### <a name="tcp-windows-scaling"></a><span data-ttu-id="85dd7-280">Windows TCP scalabilità</span><span class="sxs-lookup"><span data-stu-id="85dd7-280">TCP Windows Scaling</span></span>

<span data-ttu-id="85dd7-p145">Trovato SYN - permanenza hardware o SYN/ACK. Legacy potrebbe non essere basate su windows TCP scalabilità.  Senza windows TCP corretta delle impostazioni di ridimensionamento, il buffer di 16 bit predefinita nelle intestazioni TCP viene riempito in millisecondi.  Il traffico non può continuare a inviare fino a quando il client riceve un messaggio di conferma che i dati originali viene ricevuti, causando ritardi.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p145">Found in the SYN - SYN/ACK. Legacy or aging hardware may not take advantage of TCP windows scaling.  Without proper TCP windows scaling settings, the default 16-bit buffer in TCP headers fills in milliseconds.  Traffic cannot continue to send until the client receives an acknowledgment that the original data has been received, causing delays.</span></span>

#### <a name="tools"></a><span data-ttu-id="85dd7-285">Strumenti di:</span><span class="sxs-lookup"><span data-stu-id="85dd7-285">Tools:</span></span>

- <span data-ttu-id="85dd7-286">Netmon</span><span class="sxs-lookup"><span data-stu-id="85dd7-286">Netmon</span></span>
- <span data-ttu-id="85dd7-287">Wireshark</span><span class="sxs-lookup"><span data-stu-id="85dd7-287">Wireshark</span></span> 

#### <a name="what-youre-looking-for"></a><span data-ttu-id="85dd7-288">Che cosa si sta cercando:</span><span class="sxs-lookup"><span data-stu-id="85dd7-288">What you're looking for:</span></span>

<span data-ttu-id="85dd7-p146">Cercare SYN - SYN/riconoscimento il traffico nella traccia di rete.  Utilizzare un filtro come in Netmon, `tcp.flags.syn == 1`. Questo filtro è la stessa in Wireshark.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p146">Look for the SYN - SYN/ACK traffic in your network trace.  In Netmon, use a filter like  `tcp.flags.syn == 1`. This filter is the same in Wireshark.</span></span>  

![Filtro Netmon o Wireshark per pacchetti Syn per entrambi gli strumenti: TCP. Flags.Syn = = 1.](media/4b9a12a1-c915-43c8-ac2f-a679d0435a29.PNG)         
<span data-ttu-id="85dd7-293">Si noti che per ogni SYN esiste un numero di porta (SrcPort) origine corrispondenti in porta di destinazione (DstPort) di riconoscimento correlata (SYN/riconoscimento).</span><span class="sxs-lookup"><span data-stu-id="85dd7-293">Notice that for every SYN there is a source port (SrcPort) number that is matched in the destination port (DstPort) of the related Acknowledgment (SYN/ACK).</span></span> 

<span data-ttu-id="85dd7-294">Per visualizzare il valore di ridimensionamento di Windows che viene utilizzato per la connessione di rete, espandere innanzitutto il SYN, quindi correlate SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="85dd7-294">To see the Windows Scaling value that is used by your network connection, expand first the SYN, and then the related SYN/ACK.</span></span>  

![Immagine che illustra come per la corrispondenza SrcPort a DstPort una traccia per ottenere l'intervallo di tempo.](media/6a4ca573-0253-4fbd-93e8-92821ee1c351.png)  

### <a name="tcp-idle-time-settings"></a><span data-ttu-id="85dd7-296">Impostazioni di tempo di inattività TCP</span><span class="sxs-lookup"><span data-stu-id="85dd7-296">TCP Idle Time Settings</span></span>

<span data-ttu-id="85dd7-p147">In passato, la maggior parte delle reti perimetrali sono configurate per le connessioni temporanee, ovvero le connessioni inattive vengono in genere terminate. Termina sessioni inattive TCP per i proxy e firewall a maggiore di 100-300 secondi. Si tratta problematico per Outlook in linea in quanto consente di creare e vengono utilizzate connessioni a lungo termine, se sono inattivi o non.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p147">Historically, most perimeter networks are configured for transient connections, meaning idle connections are generally terminated. Idle TCP sessions can be terminated by proxies and firewalls at greater than 100 to 300 seconds. This is problematic for Outlook Online because it creates and uses long-term connections, whether they are idle or not.</span></span>  

<span data-ttu-id="85dd7-p148">Quando le connessioni vengono terminate dal proxy o dispositivi firewall, il client non viene informato e un tentativo di utilizzare Outlook Online comporta un client tenta, più volte, lussuosi la connessione prima di crearne uno nuovo. Blocchi di prodotto, istruzioni o un rallentamento delle prestazioni venga visualizzato nel caricamento della pagina.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p148">When connections are terminated by proxy or firewall devices, the client is not informed, and an attempt to use Outlook Online will mean a client computer will try, repeatedly, to revive the connection before making a new one. You may see hangs in the product, prompts, or slow performance on page load.</span></span>

#### <a name="tools"></a><span data-ttu-id="85dd7-302">Strumenti di:</span><span class="sxs-lookup"><span data-stu-id="85dd7-302">Tools:</span></span>

- <span data-ttu-id="85dd7-303">Netmon</span><span class="sxs-lookup"><span data-stu-id="85dd7-303">Netmon</span></span>
- <span data-ttu-id="85dd7-304">Wireshark</span><span class="sxs-lookup"><span data-stu-id="85dd7-304">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="85dd7-305">Sugli aspetti da considerare:</span><span class="sxs-lookup"><span data-stu-id="85dd7-305">What to look for:</span></span>

<span data-ttu-id="85dd7-p149">In Netmon, esaminare il campo Scostamento tempo per un round trip. Un round trip è il tempo tra client invia una richiesta al server e la ricezione nuovamente una risposta. Controllare tra il Client e il punto di uscita (ad esempio Client -\> Proxy), o del Client a Office 365 (Client -\> Office 365). È possibile visualizzare questo in molti altri tipi di pacchetti.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p149">In Netmon, look at the Time Offset field for a round-trip. A round-trip is the time between client sending a request to the server and receiving a response back. Check between the Client and the egress point (ex. Client --\> Proxy), or the Client to Office 365 (Client --\> Office 365). You can see this in many types of packets.</span></span> 

<span data-ttu-id="85dd7-311">Ad esempio, il filtro nella Netmon sia simile `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`, o Wireshark, `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`.</span><span class="sxs-lookup"><span data-stu-id="85dd7-311">As an example, the filter in Netmon may look like  `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`, or, in Wireshark,  `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`.</span></span>  

> [!TIP]
> <span data-ttu-id="85dd7-p150">Non è possibile sapere se l'indirizzo IP nella traccia appartiene al server DNS? Provare a cercare nella riga di comando. Fare clic su **Start** \> **eseguire** \> e digitare **cmd**oppure premere **Il tasto Windows** \> e digitare **cmd**. Al prompt dei comandi, digitare `nslookup <the IP address from the network trace>`. Per eseguire il test, utilizzare nslookup indirizzo IP del computer. > Per visualizzare un elenco di intervalli IP di Microsoft, vedere [Office 365 URL e intervalli di indirizzi IP](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p150">Don't know if the IP address in your trace belongs to your DNS server? Try looking it up at the command line. Click **Start** \> **Run** \> and type **cmd**, or press **Windows Key** \> and type **cmd**. At the prompt, type  `nslookup <the IP address from the network trace>`. To test, use nslookup against your own computer's IP address. > To see a list of Microsoft's IP ranges, see [Office 365 URLs and IP address ranges](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span></span> 

<span data-ttu-id="85dd7-p151">Se si verifica un problema, si aspettano lungo tempo Scosta venga visualizzato, in questo caso (Outlook in linea), in particolare nei pacchetti TLS:TLS che mostra il passaggio dei dati delle applicazioni (ad esempio Netmon è possibile trovare i pacchetti di dati dell'applicazione tramite `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`). Verrà visualizzato un avanzamento uniforme nel tempo tra la sessione. Se viene visualizzata lunghi ritardi quando viene aggiornata la linea di Outlook, ciò potrebbe essere causato da un elevato grado di ripristino in corso di invio.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p151">If there is a problem, expect long Time Offsets to appear, in this case (Outlook Online), particularly in TLS:TLS packets that show the passage of Application Data (for example, in Netmon you can find application data packets via  `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`). You should see a smooth progression in the time across the session. If you see long delays when refreshing your Outlook Online, this could be caused by a high degree of resets being sent.</span></span> 

### <a name="latencyround-trip-time"></a><span data-ttu-id="85dd7-321">Latenza/Round attivarsi ora</span><span class="sxs-lookup"><span data-stu-id="85dd7-321">Latency/Round Trip Time</span></span> 

<span data-ttu-id="85dd7-322">Latenza è una misura che può cambiare maggiormente in base al numero di variabili, tale aggiornamento dispositivi di permanenza, aggiunta di un numero elevato di utenti a una rete e la percentuale della larghezza di banda complessiva utilizzata dalle altre attività di una connessione di rete.</span><span class="sxs-lookup"><span data-stu-id="85dd7-322">Latency is a measure that can change a lot depending on many variables, such upgrading aging devices, adding a large number of users to a network, and the percentage of overall bandwidth consumed by other tasks on a network connection.</span></span> 

<span data-ttu-id="85dd7-323">Calcolatori di larghezza di banda per Office 365 sono disponibili in questa pagina [pianificazione della rete e ottimizzazione delle prestazioni per Office 365](network-planning-and-performance.md) .</span><span class="sxs-lookup"><span data-stu-id="85dd7-323">There are bandwidth calculators for Office 365 available from this [Network planning and performance tuning for Office 365](network-planning-and-performance.md) page.</span></span>  

<span data-ttu-id="85dd7-p152">Necessario per calcolare la velocità di connessione o della larghezza di banda della connessione ISP? Provare a eseguire questo sito (o siti come viene): [Sito ufficiale Speedtest](https://www.speedtest.net/)ed [esecuzione Pingtest](http://www.pingtest.net/).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p152">Need to measure the speed of your connection, or your ISP connection's bandwidth? Try this site (or sites like it): [Speedtest Official Site](https://www.speedtest.net/), and [Pingtest](http://www.pingtest.net/).</span></span>

#### <a name="tools"></a><span data-ttu-id="85dd7-326">Strumenti di:</span><span class="sxs-lookup"><span data-stu-id="85dd7-326">Tools:</span></span>

- <span data-ttu-id="85dd7-327">Ping</span><span class="sxs-lookup"><span data-stu-id="85dd7-327">Ping</span></span>
- <span data-ttu-id="85dd7-328">PsPing</span><span class="sxs-lookup"><span data-stu-id="85dd7-328">PsPing</span></span>
- <span data-ttu-id="85dd7-329">Netmon</span><span class="sxs-lookup"><span data-stu-id="85dd7-329">Netmon</span></span>
- <span data-ttu-id="85dd7-330">Wireshark</span><span class="sxs-lookup"><span data-stu-id="85dd7-330">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="85dd7-331">Sugli aspetti da considerare:</span><span class="sxs-lookup"><span data-stu-id="85dd7-331">What to look for:</span></span>

<span data-ttu-id="85dd7-p153">Per tenere traccia latenza in una traccia, saranno utili di dover registrato l'indirizzo IP del computer client e l'indirizzo IP del server DNS in Office 365. Si tratta allo scopo di filtro di traccia più semplice. Se ci si connette tramite un proxy, è necessario l'indirizzo IP del computer client, l'indirizzo IP proxy/in uscita e l'indirizzo IP di Office 365 DNS, che semplificano il lavoro.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p153">To track latency in a trace, you will benefit from having recorded the client computer IP address and the IP address of the DNS server in Office 365. This is for the purpose of easier trace filtering. If you connect through a proxy, you will need your client computer IP address, the proxy/egress IP address, and the Office 365 DNS IP address, to make the work easier.</span></span>  

<span data-ttu-id="85dd7-p154">Una richiesta ping al outlook.office365.com indicherà il nome del centro dati che riceve la richiesta, anche se il comando ping *potrebbe* non essere in grado di connettersi per inviare il marchio consecutivi pacchetti ICMP. Se si utilizza PsPing (uno strumento gratuito per il download) e specifica la porta (443) e magari per l'utilizzo di IPv4 (-4) si otterrà un round-trip-tempo medio di pacchetti inviati. Questo metodo funziona questa per altro URL in servizi di Office 365, come `psping -4 yourSite.sharepoint.com:443`. In realtà, è possibile specificare un numero di ping per ottenere un campione di dimensioni maggiore di tentare la media, simile: `psping -4 -n 20 yourSite-my.sharepoint.com:443`.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p154">A ping request sent to outlook.office365.com will tell you the name of the datacenter receiving the request, even if ping  *may*  not be able to connect to send the trademark consecutive ICMP packets. If you use PsPing (a free tool for download), and specific the port (443) and perhaps to use IPv4 (-4) you will get an average round-trip-time for packets sent. This will work this for other URLs in the Office 365 services, like  `psping -4 yourSite.sharepoint.com:443`. In fact, you can specify a number of pings to get a larger sample for your average, try something like:  `psping -4 -n 20 yourSite-my.sharepoint.com:443`.</span></span>  

> [!NOTE]
> <span data-ttu-id="85dd7-p155">PsPing non invia pacchetti ICMP. Esegue il ping con pacchetti TCP su una porta specifica, in modo che è possibile utilizzare uno che dovrebbe per essere aperto. In Office 365, che utilizza TLS/SSL, provare ad associare porta: 443 per le PsPing.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p155">PsPing doesn't send ICMP packets. It pings with TCP packets over a specific port, so you can use any one you know to be open. In Office 365, which uses SSL/TLS, try attaching port :443 to your PsPing.</span></span>

![Schermata che mostra un comando ping risoluzione outlook.office365.com e un PSPing con 443 eseguono la stessa, ma anche reporting un RTT Media 6.5ms.](media/c64339f2-2c96-45b8-b168-c2a060430266.PNG)        

<span data-ttu-id="85dd7-p156">Se è stato caricato la pagina di Office 365 con prestazioni lenta durante l'esecuzione di una traccia di rete, è consigliabile filtrare una traccia Netmon o Wireshark per `DNS`. Questa è una gli indirizzi IP che stiamo cercando.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p156">If you loaded the slow performing Office 365 page while doing a network trace, you should filter a Netmon or Wireshark trace for  `DNS`. This is one of the IPs we're looking for.</span></span>  

<span data-ttu-id="85dd7-p157">Di seguito sono i passaggi da eseguire per filtrare i Netmon per acquisire l'indirizzo IP (e dare uno sguardo al DNS latenza). In questo esempio utilizza outlook.office365.com, ma è inoltre possibile utilizzare l'URL di un tenant di SharePoint Online (hithere.sharepoint.com, ad esempio).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p157">Here are the steps to take to filter your Netmon to get the IP address (and take a look at DNS Latency). This example uses outlook.office365.com, but may also use the URL of a SharePoint Online tenant (hithere.sharepoint.com for example).</span></span>  

1. <span data-ttu-id="85dd7-347">Eseguire il ping URL `ping outlook.office365.com` e nei risultati di registrare il nome e indirizzo IP del server DNS, il comando ping è stato inviato a.</span><span class="sxs-lookup"><span data-stu-id="85dd7-347">Ping the URL `ping outlook.office365.com` and, in the results, record the name and IP address of the DNS server the ping request was sent to.</span></span> 
2. <span data-ttu-id="85dd7-348">Rete individuare apertura della pagina o eseguire l'azione che permette di utilizzare i problemi di prestazioni, oppure, se è visualizzata un'elevata latenza ping, rete.</span><span class="sxs-lookup"><span data-stu-id="85dd7-348">Network trace opening the page, or doing the action that gives you the performance problem, or, if you see a high latency on the ping, itself, network trace it.</span></span> 
3. <span data-ttu-id="85dd7-p158">Aprire la traccia in Netmon e filtro per il servizio DNS (questo filtro anche Wireshark viene utilizzato, ma è riservato a caso `-- dns`). Poiché si conosce il nome del server DNS dal ping è possibile inoltre filtrare più velocemente in Netmon simile alla seguente: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")` , quali simile a quello che nel sistema dns Wireshark e cornice contiene "namnorthwest".</span><span class="sxs-lookup"><span data-stu-id="85dd7-p158">Open the trace in Netmon and filter for DNS (this filter also works in Wireshark, but is sensitive to case `-- dns`). Since you know the name of the DNS server from your ping you may also filter more speedily in Netmon like this: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")` , which looks like this in Wireshark dns and frame contains "namnorthwest".</span></span></br><span data-ttu-id="85dd7-p159">Aprire il pacchetto di risposta e, nella finestra Dettagli dei Frame di Netmon, fare clic su DNS espandere per ulteriori informazioni. Le informazioni DNS che consente di individuare l'indirizzo IP del server DNS che della richiesta non appena si in Office 365, è necessario l'indirizzo IP per il passaggio successivo (strumento PsPing). Rimuovere il filtro pulsante destro del mouse risposta DNS riepilogando cornice del Netmon \> trova conversazioni \> DNS per visualizzare le Query DNS e risposta side-by-side.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p159">Open the response packet and, in Frame Details window of Netmon, click DNS to expand for more information. In the DNS information you'll find the IP address of the DNS server the request went to in Office 365 -- you'll need this IP address for the next step (the PsPing tool). Remove the filter, right-click on the DNS Response in Netmon's Frame Summary \> Find Conversations \> DNS to see the DNS Query and Response side-by-side.</span></span> 
4. <span data-ttu-id="85dd7-p160">Netmon, anche noti nella colonna Scostamento tempo tra le richieste DNS e le risposte. Il passaggio successivo per installare e utilizzare [PsPing](https://technet.microsoft.com/en-us/sysinternals/jj729731.aspx) strumento è disponibile in molto utile, poiché ICMP spesso è bloccata nel firewall e poiché PsPing edito tiene traccia della latenza in millisecondi. PsPing viene completata una connessione TCP alla porta (nel nostro maiuscole aprire la porta 443) e indirizzo.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p160">In Netmon, also note the Time Offset  column between the DNS Request and Response. In the next step, the easy-to-install and use [PsPing](https://technet.microsoft.com/en-us/sysinternals/jj729731.aspx) tool comes in very handy, both because ICMP is often blocked on Firewalls, and because PsPing elegantly tracks latency in milliseconds. PsPing completes a TCP connection to an address and port (in our case open port 443).</span></span> 
5. <span data-ttu-id="85dd7-357">Installare PsPing.</span><span class="sxs-lookup"><span data-stu-id="85dd7-357">Install PsPing.</span></span> 
6. <span data-ttu-id="85dd7-p161">Aprire un prompt dei comandi (avviare \> eseguire \> digitare cmd o il tasto Windows \> digitare cmd) e passare alla directory in cui è installato PsPing per eseguire il comando PsPing directory. Negli esempi è possibile visualizzare che dopo aver apportato una 'Perf' della cartella principale del C. È possibile eseguire la stessa per l'accesso rapido.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p161">Open a command prompt (Start \> Run \> type cmd, or Windows Key \> type cmd) and change directory to the directory where you installed PsPing to run the PsPing command. In my examples you can see I made a 'Perf' folder on the root of C. You can do the same for quick access.</span></span> 
7. <span data-ttu-id="85dd7-360">Digitare il comando in modo che si sta effettuando la PsPing sull'indirizzo IP del server di Office 365 DNS dalla traccia Netmon precedente, ricordarsi di aggiungere il numero di porta.</span><span class="sxs-lookup"><span data-stu-id="85dd7-360">Type the command so that you're making your PsPing against the IP address of the Office 365 DNS server from your earlier Netmon trace -- remember to add the port number.</span></span> </br><span data-ttu-id="85dd7-p162">In altre parole, `psping -n 20 132.245.24.82:445`. Per fornire un campionamento di 20 ping e la latenza media al termine del PsPing.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p162">In other words, `psping -n 20 132.245.24.82:445`. This will give you a sampling of 20 pings and average the latency when PsPing stops.</span></span> 

<span data-ttu-id="85dd7-p163">Se prevede di Office 365 tramite un server proxy, la procedura è leggermente diversa. È necessario prima PsPing al server proxy per ottenere un valore di latenza media in millisecondi a proxy/in uscita e viceversa, e quindi uno eseguire PsPing nel proxy o in un computer con una connessione diretta a Internet per ottenere il valore mancano (quello a Office 365 e viceversa).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p163">If you're going to Office 365 through a proxy server, the steps are a little different. You would first PsPing to your proxy server to get an average latency value in milliseconds to proxy/egress and back, and then either run PsPing on the proxy, or on a computer with a direct Internet connection to get the missing value (the one to Office 365 and back).</span></span>  

<span data-ttu-id="85dd7-p164">Se si sceglie di eseguire PsPing dal proxy, sarà necessario due valori millisecondo: computer Client al server proxy o punto di uscita e server proxy per Office 365. E termine. Registrazione, i valori, comunque.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p164">If you choose to run PsPing from the proxy, you'll have two millisecond values: Client computer to proxy server or egress point, and proxy server to Office 365. And you're done! Well, recording values, anyway.</span></span>  

<span data-ttu-id="85dd7-p165">Se si esegue PsPing in un altro computer client con una connessione diretta a Internet, vale a dire, senza un proxy, sarà necessario due valori millisecondo: computer Client al server proxy o punto di uscita e i computer client a Office 365. In questo caso, sottrarre il valore del computer client al proxy server o in uscita al punto da quello del computer client a Office 365 e sarà necessario numeri RTT dal computer client e il punto di uscita o server proxy e dal proxy server o in uscita scegliere distaccate CE 365.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p165">If you run PsPing on another client computer that has a direct connection to the Internet, that is, without a proxy, you will have two millisecond values: Client computer to proxy server or egress point, and client computer to Office 365. In this case, subtract the value of client computer to proxy server or egress point from the value of client computer to Office 365, and you will have the RTT numbers from your client computer to the proxy server or egress point, and from proxy server or egress point to Office 365.</span></span> 

<span data-ttu-id="85dd7-370">Tuttavia, se è possibile trovare un computer client nel percorso sono connessi direttamente o ignora il proxy, potrebbe scegliere di verificare se il problema viene riprodotto vi innanzitutto e testare utilizzarlo, in seguito.</span><span class="sxs-lookup"><span data-stu-id="85dd7-370">However, if you can find a client computer in the impacted location that is directly connected, or bypasses the proxy, you may choose to see if the issue reproduces there to begin with, and test using it, thereafter.</span></span> 

<span data-ttu-id="85dd7-371">Latenza, come indicato in una traccia Netmon tali millisecondi aggiuntivi possono aggiungere verso l'alto, se sono presenti un numero sufficiente di essi in una sessione specifica.</span><span class="sxs-lookup"><span data-stu-id="85dd7-371">Latency, as seen in a Netmon trace, those extra milliseconds can add up, if there are enough of them in any given session.</span></span>  

![Latenza generale in Network Monitor, con la colonna dell'intervallo di tempo predefinita di Network Monitor aggiunta al riepilogo dei frame.](media/7ad17380-8527-4bc2-9b9b-6310cf19ba6b.PNG)

> [!NOTE]
> <span data-ttu-id="85dd7-p166">L'indirizzo IP può essere diverso da quello gli indirizzi IP illustrato di seguito, ad esempio, che il ping può restituire simile ulteriori 157.56.0.0/16 o un intervallo simile. Per un elenco di intervalli utilizzati da Office 365, vedere [Office 365 URL e intervalli di indirizzi IP](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p166">Your IP address may be different than the IPs shown here, for example, your ping may return something more like 157.56.0.0/16 or a similar range. For a list of ranges used by Office 365, check out [Office 365 URLs and IP address ranges](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span></span> 

<span data-ttu-id="85dd7-375">Se si desidera eseguire la ricerca, ad esempio, 132.245, ricordarsi di espandere tutti i nodi (viene visualizzato un pulsante nella parte superiore per l'oggetto).</span><span class="sxs-lookup"><span data-stu-id="85dd7-375">Remember to expand all the nodes (there's a button at the top for this) if you want to search for, for example, 132.245.</span></span>

### <a name="proxy-authentication"></a><span data-ttu-id="85dd7-376">Autenticazione proxy</span><span class="sxs-lookup"><span data-stu-id="85dd7-376">Proxy Authentication</span></span>

<span data-ttu-id="85dd7-p167">Si applica solo a un utente se si prevede un server proxy. In caso contrario, è possibile ignorare la procedura seguente. Quando si utilizza in modo corretto, autenticazione proxy dovrebbe avvenire in millisecondi, in modo coerente. Si non devono vedere prestazioni errato intermittente durante i periodi di utilizzo (ad esempio).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p167">This only applies to you if you're going through a proxy server. If not, you can skip these steps. When working properly, proxy authentication should take place in milliseconds, consistently. You shouldn't see intermittent bad performance during peak usage periods (for example).</span></span>  

<span data-ttu-id="85dd7-p168">Se l'autenticazione Proxy, ogni volta che si crea una nuova connessione TCP a Office 365 per ottenere informazioni, è necessario passare attraverso un processo di autenticazione in background. Pertanto, ad esempio, quando si passa dal calendario di posta elettronica in Outlook Online, è verranno autenticati. E in SharePoint Online, se viene visualizzata una pagina multimediale o i dati di più siti o le sedi, verrà l'autenticazione per ogni connessione TCP diversi che è necessaria per il rendering dei dati.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p168">If Proxy authentication is on, each time you make a new TCP connection to Office 365 to get information, you need to pass through an authentication process behind the scenes. So, for example, when switching from Calendar to Mail in Outlook Online, you will authenticate. And in SharePoint Online, if a page displays media or data from multiple sites or locations, you will authenticate for each different TCP connection that is needed in order to render the data.</span></span>  

<span data-ttu-id="85dd7-p169">In Outlook Online, possono verificarsi tempi di caricamento lenta ogni volta che si passa dal calendario e delle cassette postali o lenta pagina viene caricata in SharePoint Online. Tuttavia, esistono altri sintomi non elencate di seguito.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p169">In Outlook Online, you may experience slow load times whenever you switch between Calendar and your mailbox, or slow page loads in SharePoint Online. However, there are other symptoms not listed here.</span></span> 

<span data-ttu-id="85dd7-p170">Autenticazione proxy è un'impostazione sul server proxy in uscita. Se causa problemi di prestazioni con Office 365, è necessario consultare il team di rete.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p170">Proxy authentication is a setting on your egress proxy server. If it is causing a performance issue with Office 365, you must consult your networking team.</span></span>  

#### <a name="tool"></a><span data-ttu-id="85dd7-388">Strumento:</span><span class="sxs-lookup"><span data-stu-id="85dd7-388">Tool:</span></span> 

- <span data-ttu-id="85dd7-389">Netmon</span><span class="sxs-lookup"><span data-stu-id="85dd7-389">Netmon</span></span>
- <span data-ttu-id="85dd7-390">Wireshark</span><span class="sxs-lookup"><span data-stu-id="85dd7-390">Wireshark</span></span> 

#### <a name="what-to-look-for"></a><span data-ttu-id="85dd7-391">Sugli aspetti da considerare:</span><span class="sxs-lookup"><span data-stu-id="85dd7-391">What to look for:</span></span>

<span data-ttu-id="85dd7-p171">Proxy autenticazione viene eseguita ogni volta che una nuova sessione TCP deve caricare un, in genere per richiedere il file o informazioni dal server o per fornire informazioni. Ad esempio, si può vedere authentication proxy intorno a richieste HTTP POST o HTTP GET. Se si desidera visualizzare le cornici di cui si eseguono l'autenticazione richieste nella traccia, aggiungere la colonna 'NTLMSSP riepilogo' Netmon e filtra `.property.NTLMSSPSummary`. Per verificare il tempo in corso l'autenticazione, aggiungere la colonna dell'intervallo di tempo.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p171">Proxy authentication takes place whenever a new TCP session must be spun up, commonly to request files or info from the server, or to supply info. For example, you may see proxy authentication around HTTP GET or HTTP POST requests. If you want to see the frames where you are authenticating requests in your trace, add the 'NTLMSSP Summary' column to Netmon and filter for  `.property.NTLMSSPSummary`. To see how long the authentication is taking, add the Time Delta column.</span></span> 

<span data-ttu-id="85dd7-396">Per aggiungere una colonna a Netmon:</span><span class="sxs-lookup"><span data-stu-id="85dd7-396">To add a column to Netmon:</span></span> 
1. <span data-ttu-id="85dd7-397">Pulsante destro del mouse su una colonna, ad esempio descrizione.</span><span class="sxs-lookup"><span data-stu-id="85dd7-397">Right-click on a column such as Description.</span></span> 
2. <span data-ttu-id="85dd7-398">Fare clic su Scegli colonne.</span><span class="sxs-lookup"><span data-stu-id="85dd7-398">Click Choose Columns.</span></span> 
3. <span data-ttu-id="85dd7-399">Individuare NTLMSSP riepilogo e intervallo di tempo nell'elenco e fare clic su Aggiungi.</span><span class="sxs-lookup"><span data-stu-id="85dd7-399">Locate NTLMSSP Summary and Time Delta in the list and click Add.</span></span> 
4. <span data-ttu-id="85dd7-400">Spostare le nuove colonne nella posizione corretta prima o dietro nella colonna Descrizione in modo che è possibile leggerli side-by-side.</span><span class="sxs-lookup"><span data-stu-id="85dd7-400">Move the new columns into place before or behind the Description column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="85dd7-401">Fare clic su OK.</span><span class="sxs-lookup"><span data-stu-id="85dd7-401">Click OK.</span></span> 

<span data-ttu-id="85dd7-p172">Anche se non si aggiunge la colonna, il filtro Netmon funzionerà. Ma la risoluzione dei problemi è molto più semplice è possibile visualizzare la fase di autenticazione è attiva.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p172">Even if you don't add the column, the Netmon filter will work. But your troubleshooting will be much easier if you can see what stage of authentication you're in.</span></span> 

<span data-ttu-id="85dd7-p173">Quando è presente la ricerca per le istanze dell'autenticazione Proxy, assicurarsi di esaminare tutti i frame in caso di una richiesta NTLM oppure un messaggio di eseguire l'autenticazione. Se necessario, fare parte specifica del traffico e trova conversazioni \> TCP. Tenere presente i valori di ora Delta le conversazioni.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p173">When looking for instances of Proxy Authentication, be sure to study all frames where there is an NTLM Challenge, or an Authenticate Message is present. If necessary, right-click the specific piece of traffic and Find Conversations \> TCP. Be aware of the Time Delta values in these Conversations.</span></span> 

![Netmon traccia che illustra autenticazione proxy, filtrato in base alla conversazione.](media/b640f176-0a52-4bbb-972e-60fb3d6aece2.PNG)        

<span data-ttu-id="85dd7-p174">Un secondo quattro un ritardo nell'autenticazione proxy come indicato in Wireshark. Nella colonna **delta ora dal frame visualizzato precedente** è stata effettuata tramite il pulsante destro del campo lo stesso nome nei dettagli del frame e selezionando Aggiungi come colonna.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p174">A four second delay in proxy authentication as seen in Wireshark. The **Time delta from previous displayed frame** column was made via right-clicking the field of the same name in the frame details and selecting Add as Column.  </span></span><br/> <span data-ttu-id="85dd7-410">![In Wireshark, nella colonna 'Delta ora dalla precedente frame visualizzato' può essere apportata tramite il pulsante destro del campo lo stesso nome nei dettagli del frame e selezionando Aggiungi come colonna.](media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span><span class="sxs-lookup"><span data-stu-id="85dd7-410">![In Wireshark, the 'Time delta from previous displayed frame' column can be made via right-clicking the field of the same name in the frame details and selecting Add as Column.](media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span></span>        

### <a name="dns-performance"></a><span data-ttu-id="85dd7-411">Prestazioni del DNS</span><span class="sxs-lookup"><span data-stu-id="85dd7-411">DNS Performance</span></span>

<span data-ttu-id="85dd7-412">Nome soluzione è più adatta e più rapidamente quando ha luogo più vicino paese del client possibile.</span><span class="sxs-lookup"><span data-stu-id="85dd7-412">Name resolution works best and most quickly when it takes place as close to the client's country as possible.</span></span> 

<span data-ttu-id="85dd7-p175">Se la risoluzione dei nomi DNS è in corso d'oltremare, è possibile aggiungere secondi per i carichi di pagina. In teoria, la risoluzione dei nomi effetti in 100 ms. Se non, è necessario effettuare ulteriori indagini.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p175">If DNS name resolution is taking place overseas, it can add seconds to page loads. Ideally, name resolution happens in under 100ms. If not, you should do further investigation.</span></span> 

> [!TIP]
> <span data-ttu-id="85dd7-p176">In caso di dubbi come funziona la connettività dei Client in Office 365 Esaminare il documento di riferimento di connettività Client [di seguito](https://technet.microsoft.com/en-us/library/dn741250.aspx).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p176">Not sure how Client Connectivity works in Office 365? Take a look at the Client Connectivity Reference document [here](https://technet.microsoft.com/en-us/library/dn741250.aspx).</span></span>           

#### <a name="tools"></a><span data-ttu-id="85dd7-418">Strumenti di:</span><span class="sxs-lookup"><span data-stu-id="85dd7-418">Tools:</span></span> 

- <span data-ttu-id="85dd7-419">Netmon</span><span class="sxs-lookup"><span data-stu-id="85dd7-419">Netmon</span></span>
- <span data-ttu-id="85dd7-420">Wireshark</span><span class="sxs-lookup"><span data-stu-id="85dd7-420">Wireshark</span></span>
- <span data-ttu-id="85dd7-421">PsPing</span><span class="sxs-lookup"><span data-stu-id="85dd7-421">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="85dd7-422">Sugli aspetti da considerare:</span><span class="sxs-lookup"><span data-stu-id="85dd7-422">What to look for:</span></span>
<span data-ttu-id="85dd7-p177">Analisi delle prestazioni DNS è in genere un altro processo per l'analisi della rete. Tuttavia, è anche utile in stranieri, o l'uscita, causando PsPing.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p177">Analyzing DNS performance is typically another job for a network trace. However, PsPing is also helpful in ruling in, or out, a possible cause.</span></span> 

<span data-ttu-id="85dd7-p178">Il traffico DNS si basa su TCP e UDP richieste e risposte chiaramente contrassegnate con un ID utili per identificare una richiesta specifica con le specifiche di response. Verrà visualizzato DNS traffico quando, ad esempio, SharePoint Online utilizza un nome di rete o un URL in una pagina web. Come regola, la maggior parte di tale traffico, ad eccezione durante il trasferimento delle aree, viene eseguito su UDP.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p178">DNS traffic is based on TCP and UDP requests and responses are clearly marked with an ID that will help to match a specific request with its specific response. You'll see DNS traffic when, for example, SharePoint Online uses a network name or URL on a web page. As a rule of thumb, most of this traffic, excepting when transferring Zones, runs over UDP.</span></span> 

<span data-ttu-id="85dd7-p179">In Netmon e Wireshark, il filtro più semplice che consente di esaminare il traffico DNS è semplicemente `dns`. Assicurarsi di utilizzare lettere minuscole quando si specifica il filtro. Ricordarsi di scaricare la cache di sistema di risoluzione DNS prima di iniziare a riprodurre il problema nei computer client. Ad esempio, se si dispone di un caricamento della pagina lenta SharePoint Online per la Home page, deve chiudere tutti i browser, aprire un nuovo browser, avviare l'analisi, svuotare la cache di sistema di risoluzione DNS e passare al sito di SharePoint Online. Una volta che viene risolto l'intera pagina, è necessario arrestare e salvare la traccia.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p179">In both Netmon and Wireshark, the most basic filter that will let you look at DNS traffic is simply  `dns`. Be sure to use lower case when specifying the filter. Remember to flush your DNS resolver cache before you begin to reproduce the issue on your client computer. For example, if you have a slow SharePoint Online page load for the Home page, you should close all browsers, open a new browser, start tracing, flush your DNS resolver cache, and browse to your SharePoint Online site. Once the entire page resolves, you should stop and save the trace.</span></span>

![Un filtro di base per DNS in Netmon è DNS.](media/1bebc118-ca13-45f3-803f-ab73e7af401d.png)

<span data-ttu-id="85dd7-p180">Si desidera esaminare il tempo di scostamento in seguito. E può essere utile aggiungere la colonna **dell'Intervallo di tempo** per Netmon che è possibile effettuare completando la procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="85dd7-p180">You want to look at the time offset here. And it may be helpful to add the **Time Delta** column to Netmon which you can do by completing these steps:</span></span> 
1. <span data-ttu-id="85dd7-436">Pulsante destro del mouse su una colonna, ad esempio descrizione.</span><span class="sxs-lookup"><span data-stu-id="85dd7-436">Right-click on a column such as Description.</span></span> 
2. <span data-ttu-id="85dd7-437">Fare clic su Scegli colonne.</span><span class="sxs-lookup"><span data-stu-id="85dd7-437">Click Choose Columns.</span></span> 
3. <span data-ttu-id="85dd7-438">Individuare l'intervallo di tempo nell'elenco e fare clic su Aggiungi.</span><span class="sxs-lookup"><span data-stu-id="85dd7-438">Locate Time Delta in the list and click Add.</span></span> 
4. <span data-ttu-id="85dd7-439">Spostare la nuova colonna nella posizione corretta prima o dietro nella colonna Descrizione in modo che è possibile leggerli side-by-side.</span><span class="sxs-lookup"><span data-stu-id="85dd7-439">Move the new column into place before or behind the Description column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="85dd7-440">Fare clic su OK.</span><span class="sxs-lookup"><span data-stu-id="85dd7-440">Click OK.</span></span> 

<span data-ttu-id="85dd7-p181">Se una query di interesse, prendere in considerazione isolamento facendo clic su query nel riquadro dei dettagli frame, scegliere **Trova conversazioni** \> **DNS**. Si noti che il pannello di rete conversazioni rimanda diritto a partecipare alla conversazione specifico nel Registro di traffico UDP.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p181">If you find a query of interest, consider isolating it by right-clicking that query in the frame details panel, choosing **Find Conversations** \> **DNS**. Notice that the Network Conversations panel jumps right to the specific conversation in its log of UDP traffic.</span></span> 

![Una traccia Netmon di carico Outlook Online filtrato in base a DNS e l'utilizzo di trovare le conversazioni, quindi DNS restringere i risultati.](media/763cf20e-7b48-4a37-9449-c9978cfe118b.PNG)        

<span data-ttu-id="85dd7-p182">In Wireshark è possibile rendere una colonna per volta DNS. Eseguire la traccia (o si apre una traccia) in Wireshark e filter by `dns`, o più ha `dns.time`. Fare clic su tutte le query DNS e, nel riquadro di visualizzazione dei dettagli espandere il `Domain Name System (response)` dettagli. Verrà visualizzato un campo per volta (ad esempio ` [Time: 0.001111100 seconds] `. Questa volta pulsante destro del mouse e selezionare **Applica come colonna**. Si avrà così una colonna di **tempo** per l'ordinamento più velocemente di traccia. Fare clic su nuova colonna per l'ordinamento decrescente i valori per verificare che DNS chiamata hanno impiegato più a lungo per risolvere.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p182">In Wireshark you can make a column for DNS time. Take your trace (or open a trace) in Wireshark and filter by  `dns`, or, more helpfully,  `dns.time`. Click on any DNS query, and, in the panel showing details, expand the  `Domain Name System (response)` details. You'll see a field for time (for example,  ` [Time: 0.001111100 seconds] `. Right-click this time and select **Apply as Column**. This will give you a **Time** column for quicker sorting of your trace. Click on the new column to sort by descending values to see which DNS call took the longest to resolve.</span></span> 

[<span data-ttu-id="85dd7-451">Una ricerca di SharePoint Online filtrata in Wireshark da (tutto minuscolo) dns.time, con il tempo dei dettagli realizzato in una colonna e classificato in ordine crescente.</span><span class="sxs-lookup"><span data-stu-id="85dd7-451">A browse of SharePoint Online filtered in Wireshark by (lowercase) dns.time, with the time from the details made into a column and sorted ascending.</span></span>](media/1439dcc2-12ff-4ee2-9ef3-1484cf79c384.PNG)

<span data-ttu-id="85dd7-p183">Se si desidera eseguire un'ulteriore analisi del tempo di risoluzione DNS, provare a PsPing contro la porta DNS utilizzata da TCP (ad esempio `psping <IP address of DNS server>:53`). È visualizzato un problema di prestazioni? In tal caso, il problema è più probabilmente una più ampia rete emettere rispetto a un problema di specifiche dell'applicazione DNS sta lavorare a tale soluzione. È inoltre pena, ricordare, che un comando ping per outlook.office365.com segnala la cui risoluzione dei nomi DNS per Outlook Online è in corso (ad esempio outlook namnorthwest.office365.com).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p183">If you would like to do more investigation of the DNS resolution time, try a PsPing against the DNS port used by TCP (for example,  `psping <IP address of DNS server>:53`) . Do you still see a performance issue? If you do, then the problem is more likely to be a broader network issue than an issue of specific the DNS application you're hitting to do resolution. It's also worth mentioning, again, that a ping to outlook.office365.com will tell you where DNS name resolution for Outlook Online is taking place (for example, outlook-namnorthwest.office365.com).  </span></span><br/> <span data-ttu-id="85dd7-456">Se il problema sembra da DNS specifici, potrebbe essere necessario contattare il reparto IT per osservare le configurazioni DNS e inoltro DNS per ulteriori informazioni su questo argomento.</span><span class="sxs-lookup"><span data-stu-id="85dd7-456">If the issue looks to be DNS specific, it may be necessary to contact your IT department to look at DNS configurations and DNS Forwarders to further investigate this issue.</span></span> 

### <a name="proxy-scalability"></a><span data-ttu-id="85dd7-457">Scalabilità proxy</span><span class="sxs-lookup"><span data-stu-id="85dd7-457">Proxy Scalability</span></span>

<span data-ttu-id="85dd7-p184">Servizi, ad esempio Outlook Online in Office 365 concedono client più connessioni a lungo termine. Pertanto, ogni utente può utilizzare più connessioni che richiedono una maggiore durata.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p184">Services like Outlook Online in Office 365 grant clients multiple long-term connections. Therefore, each user may use more connections that require a longer life.</span></span>  

> [!TIP]
> <span data-ttu-id="85dd7-p185">È necessario pianificare per l'utilizzo della larghezza di banda dal momento che si sta per aggiungere molti utenti a Office 365? Provare a [pianificare l'utilizzo di Internet della larghezza di banda per Office 365](https://technet.microsoft.com/en-us/library/hh852542.aspx). Calcolatori di larghezza di banda disponibili sono disponibili.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p185">Need to plan for bandwidth use because you're about to add a lot users to Office 365? Try [Plan for Internet bandwidth usage for Office 365](https://technet.microsoft.com/en-us/library/hh852542.aspx). There are bandwidth calculators available there.</span></span>

#### <a name="tool"></a><span data-ttu-id="85dd7-463">Strumento:</span><span class="sxs-lookup"><span data-stu-id="85dd7-463">Tool:</span></span>
 
<span data-ttu-id="85dd7-464">Matematiche</span><span class="sxs-lookup"><span data-stu-id="85dd7-464">Math</span></span>  

#### <a name="what-to-look-for"></a><span data-ttu-id="85dd7-465">Sugli aspetti da considerare:</span><span class="sxs-lookup"><span data-stu-id="85dd7-465">What to look for:</span></span> 

<span data-ttu-id="85dd7-p186">Non è disponibile l'analisi della rete o strumento di risoluzione dei problemi specifici al seguente. In realtà, questo si basa i calcoli di larghezza di banda assegnato limitazioni e ad altre variabili.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p186">There is no network trace or troubleshooting tool specific to this. Instead, it's based upon bandwidth calculations given limitations and other variables.</span></span>  

### <a name="tcp-max-segment-size"></a><span data-ttu-id="85dd7-468">Dimensione massima segmento TCP</span><span class="sxs-lookup"><span data-stu-id="85dd7-468">TCP Max Segment Size</span></span>

<span data-ttu-id="85dd7-p187">Trovato SYN - SYN/ACK.  Eseguire questo controllo in qualsiasi traccia di rete di prestazioni, è consigliabile per garantire che i pacchetti TCP siano configurati per eseguire la quantità massima di dati possibili.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p187">Found in the SYN - SYN/ACK.  Do this check in any performance network trace you've taken to ensure that TCP packets are configured to carry the maximum amount of data possible.</span></span> 

<span data-ttu-id="85dd7-p188">L'obiettivo è visualizzare MSS di 1460 byte per la trasmissione di dati. Se si è controllato da un proxy o se si utilizza un NAT, ricordarsi di eseguire questo test dal client al proxy/uscita/NAT e dal proxy/uscita/NAT a Office 365 per ottenere risultati ottimali! Si tratta di diverse sessioni TCP.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p188">The goal is to see a MSS of 1460 bytes for transmission of data. If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results! These are different TCP sessions.</span></span>

#### <a name="tool"></a><span data-ttu-id="85dd7-474">Strumento:</span><span class="sxs-lookup"><span data-stu-id="85dd7-474">Tool:</span></span> 

<span data-ttu-id="85dd7-475">Netmon</span><span class="sxs-lookup"><span data-stu-id="85dd7-475">Netmon</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="85dd7-476">Sugli aspetti da considerare:</span><span class="sxs-lookup"><span data-stu-id="85dd7-476">What to look for:</span></span>

<span data-ttu-id="85dd7-p189">TCP Max segmento dimensione MSS () è un altro parametro dell'handshake tre elementi nella traccia di rete, che indica che sono disponibili i dati che necessari in SYN - pacchetto di SYN/riconoscimento. MSS è piuttosto semplice visualizzare.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p189">TCP Max Segment Size (MSS) is another parameter of the three-way handshake in your network trace, that means you'll find the data you need in the SYN - SYN/ACK packet. MSS is actually pretty simple to see.</span></span> 

<span data-ttu-id="85dd7-479">Aprire qualsiasi traccia di rete prestazioni avere e trovare la connessione che si desidera conoscere o che illustra i problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="85dd7-479">Open any performance network trace you have and find the connection you're curious about, or that demonstrates the performance problem.</span></span> 

> [!NOTE]
> <span data-ttu-id="85dd7-p190">Se si sta visualizzando una traccia e sai dove trovare il traffico pertinenti alla conversazione, filtrare per l'IP del Client o l'IP del server proxy e/o punto di uscita. Passare direttamente, è necessario eseguire il ping l'URL che si sta testando per l'indirizzo IP di Office 365 nella traccia e filtro da essa.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p190">If you are looking at a trace and need to find the traffic relevant to your conversation, filter by the IP of the Client, or the IP of the proxy server or egress point, or both. Going directly, you will need to ping the URL that you're testing for the IP address of Office 365 in the trace, and filter by it.</span></span> 

<span data-ttu-id="85dd7-p191">Osservando la traccia usata? Provare a utilizzare i filtri per orientare personalmente. In Netmon, eseguire una ricerca in base all'URL, ad esempio `Containsbin(framedata, ascii, "sphybridExample")`, prendere nota del numero di frame.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p191">Looking at the trace second-hand? Try using filters to orient yourself. In Netmon, run a search based on the URL, such as  `Containsbin(framedata, ascii, "sphybridExample")`, take note of the frame number.</span></span> 

<span data-ttu-id="85dd7-p192">In Wireshark utilizzare simile `frame contains "sphybridExample"`. Se si nota che aver trovato il traffico remoto Winsock (RW) (può essere visualizzato come [PSH, riconoscimento] Wireshark), tenere presente che si connetta RW può essere visualizzato a breve prima pertinenti SYN - SYN/ACK, come illustrato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p192">In Wireshark use something like  `frame contains "sphybridExample"`. If you notice that you've found Remote Winsock (RWS) traffic (it may appear as a [PSH, ACK] in Wireshark), remember that RWS connects can be seen shortly before relevant SYN - SYN/ACKs, as discussed earlier.</span></span> 

<span data-ttu-id="85dd7-487">A questo punto è possibile registrare il numero di fotogrammi, eliminare il filtro, fare clic su tutto il traffico nella finestra della rete conversazioni nel Netmon paragonare la SYN più vicino.</span><span class="sxs-lookup"><span data-stu-id="85dd7-487">At this point, you can record the frame number, drop the filter, click All Traffic in the Network Conversations window in Netmon to look at the nearest SYN.</span></span> 

<span data-ttu-id="85dd7-488">È importante se non si riceve una qualsiasi delle informazioni di indirizzo IP al momento dell'analisi, individuare l'URL nella traccia (parte di `sphybridExample-my.sharepoint.com`, ad esempio), per ottenere gli indirizzi IP da filtrare.</span><span class="sxs-lookup"><span data-stu-id="85dd7-488">Importantly, if you didn't receive any of the IP address information at the time of the trace, finding your URL in the trace (part of `sphybridExample-my.sharepoint.com`, for example), will give you IP addresses to filter by.</span></span> 

<span data-ttu-id="85dd7-p193">Individuare la connessione di traccia che si desidera visualizzare. È possibile eseguire questa analizzando una traccia, filtrando in base agli indirizzi IP oppure selezionando specifica gli ID di conversazione utilizzando la finestra di rete conversazioni in Netmon. Dopo aver individuato il pacchetto SYN, espandere TCP (in Netmon) o Transmission Control Protocol (in Wireshark) nel riquadro dei dettagli dei Frame. Espandere MaxSegementSize e le opzioni di TCP. Individuare la cornice SYN riconoscimento correlate ed espandere opzioni TCP e MaxSegmentSize. Il minore dei due valori è la dimensione massima di segmento. In questa figura, è possibile avvalersi della colonna incorporata Netmon chiamato TCP risolvere i problemi.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p193">Locate the connection in the trace that you're interested in seeing. You may do this by either scanning the trace, by filtering by IP addresses, or by selecting specific Conversation IDs using the Network Conversations window in Netmon. Once you've found the SYN packet, expand TCP (in Netmon), or Transmission Control Protocol (in Wireshark) in the Frame Details panel. Expand TCP Options and MaxSegementSize. Locate the related SYN-ACK frame and Expand TCP Options and MaxSegmentSize. The smaller of the two values will be your Maximum Segment Size. In this picture, I make use of the built-in Column in Netmon called TCP Troubleshoot.</span></span>  

![Traccia di rete filtrata Netmon con le colonne predefinite.](media/e073df13-71f8-497a-83b4-bb9f70bd9833.PNG)

<span data-ttu-id="85dd7-p194">La colonna predefinita è nella parte superiore del riquadro **Dei dettagli dei Frame** . (Per tornare alla visualizzazione normale, fare nuovamente clic su colonne e quindi scegliere fuso orario.)</span><span class="sxs-lookup"><span data-stu-id="85dd7-p194">The built-in column is at the top of the **Frame Details** panel. (To switch back to your normal view, click Columns again, and then choose Time Zone.)</span></span> 

<span data-ttu-id="85dd7-499">![Dove trovare l'elenco a discesa delle colonne per l'opzione di risoluzione dei problemi di TCP (nella parte superiore del riepilogo dei frame).](media/64fd4baa-a872-4f07-b959-752d7d37fd62.PNG)         </span><span class="sxs-lookup"><span data-stu-id="85dd7-499">![Where to find the Columns drop down for the TCP Troubleshoot option (on top of the Frame Summary).](media/64fd4baa-a872-4f07-b959-752d7d37fd62.PNG)         </span></span>  
<span data-ttu-id="85dd7-p195">Ecco una traccia filtrata in Wireshark. Non esiste un filtro specifico del valore MSS ( `tcp.options.mss`). Le cornici di SYN, SYN/riconoscimento, handshake riconoscimento collegate nella parte inferiore della Wireshark equivale a dettagli dei Frame (cornice così riconoscimento 47, collegamenti a 46 SYN/riconoscimento, collegamenti a SYN 43) per facilitare questo tipo di lavoro.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p195">Here's a filtered trace in Wireshark. There is a filter specific to the MSS value ( `tcp.options.mss`). The frames of a SYN, SYN/ACK, ACK handshake are linked at the bottom of the Wireshark equivalent to Frame Details (so frame 47 ACK, links to 46 SYN/ACK, links to 43 SYN) to make this kind of work easier.</span></span> 

![Traccia filtrata in Wireshark da tcp.options.mss per Max segmento dimensione MSS ().](media/51e278db-801b-48bc-9b68-87cf92f03fd6.PNG)         
<span data-ttu-id="85dd7-504">Se si desidera controllare riconoscimento selettivo (argomento successivo di questa matrice), non chiudere la traccia!</span><span class="sxs-lookup"><span data-stu-id="85dd7-504">If you need to check Selective Acknowledgment (next topic in this matrix), don't close your trace!</span></span>

### <a name="selective-acknowledgment"></a><span data-ttu-id="85dd7-505">Riconoscimento selettivo</span><span class="sxs-lookup"><span data-stu-id="85dd7-505">Selective Acknowledgment</span></span>

<span data-ttu-id="85dd7-p196">Trovato SYN - SYN/ACK. devono essere presentate come consentiti in SYN e SYN/ACK. selettiva acknowledgement (SACK) consentano più fluide invii dei dati quando un pacchetto o pacchetti smarriti. Dispositivi è possono disattivare questa funzionalità, può influire negativamente sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p196">Found in the SYN - SYN/ACK. Must be reported as Permitted in both SYN and SYN/ACK. Selective Acknowledgment (SACK) allows for smoother retransmission of data when a packet or packets go missing. Devices can disable this feature, which can lead to performance problems.</span></span> 

<span data-ttu-id="85dd7-p197">Se si è controllato da un proxy o se si utilizza un NAT, ricordarsi di eseguire questo test dal client al proxy/uscita/NAT e dal proxy/uscita/NAT a Office 365 per ottenere risultati ottimali! Si tratta di diverse sessioni TCP.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p197">If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results! These are different TCP sessions.</span></span>

#### <a name="tool"></a><span data-ttu-id="85dd7-512">Strumento:</span><span class="sxs-lookup"><span data-stu-id="85dd7-512">Tool:</span></span> 

<span data-ttu-id="85dd7-513">Netmon</span><span class="sxs-lookup"><span data-stu-id="85dd7-513">Netmon</span></span> 

#### <a name="what-to-look-for"></a><span data-ttu-id="85dd7-514">Sugli aspetti da considerare:</span><span class="sxs-lookup"><span data-stu-id="85dd7-514">What to look for:</span></span>

<span data-ttu-id="85dd7-p198">Messaggio di conferma selettiva (SACK) è un altro parametro nell'handshake SYN SYN/riconoscimento. È possibile filtrare la traccia per SYN - SYN/riconoscimento molti modi.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p198">Selective Acknowledgment (SACK) is another parameter in the SYN-SYN/ACK handshake. You can filter your trace for SYN - SYN/ACK many ways.</span></span> 

<span data-ttu-id="85dd7-p199">Individuare la connessione di traccia che si è interessati visualizzando sia grazie alla scansione traccia, in base agli indirizzi IP o facendo clic su un ID di conversazione utilizzando la finestra di rete conversazioni in Netmon il filtro. Dopo aver individuato il pacchetto SYN, espandere TCP in Netmon o Transmission Control Protocol in Wireshark nella sezione dettagli dei Frame. Espandere opzioni TCP e quindi SACK. Individuare la cornice SYN riconoscimento correlata ed espandere opzioni TCP e il relativo campo SACK. Rendere che SACK è autorizzato SYN sia SYN/ACK. Di seguito sono valori SACK come indicato in Netmon e Wireshark.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p199">Locate the connection in the trace that you're interested in seeing either by scanning the trace, filtering by IP addresses, or by clicking a Conversation ID using the Network Conversations window in Netmon. Once you've found the SYN packet, expand TCP in Netmon, or Transmission Control Protocol in Wireshark in the Frame Details section. Expand TCP Options and then SACK. Locate the related SYN-ACK frame and Expand TCP Options and its SACK field. Make certain SACK is permitted in both SYN and SYN/ACK. Here are SACK values as seen in both Netmon and Wireshark.</span></span>

![Selettiva acknowledgement (SACK) in Netmon come risultato di tcp.flags.syn = = 1.](media/216f556f-5031-4ed2-b066-a0d9b3251fa2.PNG)           <br/> ![SACK come visualizzato in Wireshark con il filtro tcp.flags.syn == 1.](media/0a6e26e5-43dc-403b-adc9-3349a55f4e4b.PNG)        

### <a name="dns-geolocation"></a><span data-ttu-id="85dd7-525">Georilevazione DNS</span><span class="sxs-lookup"><span data-stu-id="85dd7-525">DNS Geolocation</span></span> 

<span data-ttu-id="85dd7-526">Qualora in tutto il mondo di Office 365 tentare di risolvere il DNS avvalersi gli effetti della velocità di connessione.</span><span class="sxs-lookup"><span data-stu-id="85dd7-526">Where in the world Office 365 tries to resolve your DNS call effects your connection speed.</span></span> 

<span data-ttu-id="85dd7-p200">In Outlook Online, una volta completata la prima ricerca DNS, la posizione di tale DNS verrà utilizzata per la connessione al datacenter più vicino. L'utente verrà connesso a un server accesso client in linea di Outlook, che utilizzerà la rete backbone per la connessione al datacenter (dC) cui sono archiviati i dati. Si tratta più veloce.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p200">In Outlook Online, after the first DNS lookup is completed, the location of that DNS will be used to connect to your nearest datacenter. You will be connected to an Outlook Online CAS server, which will use the backbone network to connect to the datacenter (dC) where your data is stored. This is faster.</span></span>

<span data-ttu-id="85dd7-530">Se l'accesso a SharePoint Online, un utente in viaggio estero verrà indirizzato ai loro datacenter attivo, ovvero il controller di dominio la cui posizione si basa sul proprio tenant di SharePoint Online della home page di base (questa operazione, un controller di dominio negli Stati Uniti se l'utente se basate su USA).</span><span class="sxs-lookup"><span data-stu-id="85dd7-530">When accessing SharePoint Online, a user traveling abroad will be directed to their active datacenter -- that's the dC whose location is based on their SPO tenant's home-base (so, a dC in the USA if the user if USA-based).</span></span>  <br/>  <span data-ttu-id="85dd7-p201">Lync online include nodi attivi in più di un controller di dominio alla volta. Quando sono richieste inviate per Lync online le istanze, Microsoft DNS verrà determinare dove nel mondo la richiesta proviene da e restituire gli indirizzi IP del controller di dominio regionale più vicino in Lync online è attivo.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p201">Lync online has active nodes in more than one dC at a time. When requests are sent for Lync online instances, Microsoft's DNS will determine where in the world the request came from, and return IP addresses from the nearest regional dC where Lync online is active.</span></span> 

> [!TIP]
> <span data-ttu-id="85dd7-p202">Necessario ottenere maggiori informazioni su come i client si connettono a Office 365? Esaminare l'articolo di riferimento di [Connettività dei Client](https://technet.microsoft.com/en-us/library/dn741250.aspx) (e il relativo grafica utile).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p202">Need to know more about how clients connect to Office 365? Take a look at the [Client Connectivity](https://technet.microsoft.com/en-us/library/dn741250.aspx) reference article (and its helpful graphics).</span></span>           
#### <a name="tools"></a><span data-ttu-id="85dd7-535">Strumenti di:</span><span class="sxs-lookup"><span data-stu-id="85dd7-535">Tools:</span></span>

- <span data-ttu-id="85dd7-536">Ping</span><span class="sxs-lookup"><span data-stu-id="85dd7-536">Ping</span></span>
- <span data-ttu-id="85dd7-537">PsPing</span><span class="sxs-lookup"><span data-stu-id="85dd7-537">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="85dd7-538">Sugli aspetti da considerare:</span><span class="sxs-lookup"><span data-stu-id="85dd7-538">What to look for:</span></span>

<span data-ttu-id="85dd7-p203">Le richieste per la risoluzione dei nomi di server DNS del client ai server DNS Microsoft devono nella maggior parte dei risultati casi nel sistema DNS Microsoft restituendo l'indirizzo IP di un datacenter internazionale (dC). Cosa significa questo automaticamente? Se la sede centrale sono Bangalore, India, ma si è in viaggio negli Stati Uniti, quando il browser in uso esegue una richiesta per Outlook in linea, i server DNS Microsoft devono trasferito è indirizzi IP datacenter negli Stati Uniti - un datacenter internazionale. Se è necessario posta da Outlook, che i dati verranno attraversare rete backbone rapido di Microsoft tra i Data Center.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p203">Requests for name resolution from the client's DNS servers to Microsoft's DNS servers should in most cases result in Microsoft DNS returning the IP address of a regional datacenter (dC). What does this mean for you? If your headquarters are in Bangalore, India, but you are traveling in the United States, when your browser makes a request for Outlook Online, Microsoft's DNS servers should hand you IP addresses to datacenters in the United States -- a regional datacenter. If mail is needed from Outlook, that data will travel across Microsoft's quick backbone network between the datacenters.</span></span>

<span data-ttu-id="85dd7-p204">DNS funziona più rapida quando la risoluzione dei nomi viene eseguita il più vicino possibile percorso dell'utente possibile. Se si è in Europa, si desidera accedere al DNS Microsoft in Europa e (dovrebbe) in relazione ai datacenter in Europa. Prestazioni da un client in Europa passando a un datacenter in America e DNS sarà più lenta.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p204">DNS works fastest when name resolution is done as close to the user location as possible. If you're in Europe, you want to go to a Microsoft DNS in Europe, and (ideally) deal with a datacenter in Europe. Performance from a client in Europe going to DNS and a datacenter in America will be slower.</span></span>

<span data-ttu-id="85dd7-p205">Eseguire lo strumento Ping per outlook.office365.com per determinare dove nel mondo richiesta DNS viene instradata. Se si è in Europa, è necessario visualizzare una risposta da un'operazione di outlook emeawest.office365.com. America, probabilmente simile namnorthwest.office365.com di outlook.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p205">Run the Ping tool against outlook.office365.com to determine where in the world your DNS request is being routed. If you are in Europe, you should see a reply from something like outlook-emeawest.office365.com. In the Americas, expect something like outlook-namnorthwest.office365.com.</span></span> 

<span data-ttu-id="85dd7-p206">Aprire il prompt dei comandi nel computer client (tramite Start \> eseguire \> cmd o la chiave di Windows \> digitare cmd). Digitare ping outlook.office365.com e premere INVIO. Ricordarsi di specificare -4 Se si desidera specificare per eseguire il ping mediante IPv4. Si potrebbe non riuscire ottenere una risposta da pacchetti ICMP, ma è consigliabile visualizzare il nome del DNS a cui è stata instradata la richiesta. Se si desidera visualizzare i numeri di latenza per la connessione di prova PsPing all'indirizzo IP del server in cui viene restituito dalla ping.</span><span class="sxs-lookup"><span data-stu-id="85dd7-p206">Open the command prompt on the client computer (via Start \> Run \> cmd or Windows key \> type cmd). Type ping outlook.office365.com and press ENTER. Remember, to specify -4 if you want to specify to ping via IPv4. You may fail to get a reply from the ICMP packets, but you should see the name of the DNS to which the request was routed. If you want to see the latency numbers for this connection try PsPing to the IP address of the server that is returned by ping.</span></span>  

![Ping di outlook.office365.com che mostra la risoluzione in outlook-namnorthwest.](media/06c944d5-6159-43ec-aa31-757770695e8b.PNG)           
![PSPing all'indirizzo IP restituito dal ping a outlook.office365.com che mostra la latenza media di 28 millisecondo.](media/f2b25a75-1a87-4479-b8a7-fa4375683507.PNG)           
### <a name="office-365-application-troubleshooting"></a><span data-ttu-id="85dd7-556">Risoluzione dei problemi dell'applicazione di Office 365</span><span class="sxs-lookup"><span data-stu-id="85dd7-556">Office 365 Application Troubleshooting</span></span>

#### <a name="tools"></a><span data-ttu-id="85dd7-557">Strumenti di:</span><span class="sxs-lookup"><span data-stu-id="85dd7-557">Tools:</span></span> 

- <span data-ttu-id="85dd7-558">Netmon</span><span class="sxs-lookup"><span data-stu-id="85dd7-558">Netmon</span></span>
- <span data-ttu-id="85dd7-559">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="85dd7-559">HTTPWatch</span></span>
- <span data-ttu-id="85dd7-560">Console F12 nel browser</span><span class="sxs-lookup"><span data-stu-id="85dd7-560">F12 Console in the browser</span></span>

<span data-ttu-id="85dd7-p207">È non vengono trattati gli strumenti utilizzati nella risoluzione dei problemi specifici dell'applicazione in questo articolo specifiche della rete. Consente di individuare risorse, ma è *possibile* utilizzare [questa pagina](https://support.office.com/en-us/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span><span class="sxs-lookup"><span data-stu-id="85dd7-p207">We don't cover tools used in application-specific troubleshooting in this network-specific article. But you'll find resources you  *can*  use [on this page](https://support.office.com/en-us/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span></span>
   
## <a name="related-topics"></a><span data-ttu-id="85dd7-563">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="85dd7-563">Related Topics</span></span>

[<span data-ttu-id="85dd7-564">Gestione di endpoint di Office 365</span><span class="sxs-lookup"><span data-stu-id="85dd7-564">Managing Office 365 endpoints</span></span>](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)
  
[<span data-ttu-id="85dd7-565">Domande frequenti sugli endpoint di Office 365</span><span class="sxs-lookup"><span data-stu-id="85dd7-565">Office 365 endpoints FAQ</span></span>](https://support.office.com/article/d4088321-1c89-4b96-9c99-54c75cae2e6d)
  

