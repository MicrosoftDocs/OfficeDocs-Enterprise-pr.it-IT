---
title: Pianificare la sincronizzazione della directory per Office 365
ms.author: josephd
author: JoeDavies-MSFT
manager: laurawi
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
ms.custom: Adm_O365
ms.collection:
- Ent_O365
- M365-identity-device-management
search.appverid:
- MOE150
- MET150
ms.assetid: d3577c90-dda5-45ca-afb0-370d2889b10f
description: Descrive la sincronizzazione della directory con Office 365, la pulizia di Active Directory e lo strumento Azure Active Directory Connect.
ms.openlocfilehash: b1d48696195c572de3a87bc5acb0646fc4bd0f41
ms.sourcegitcommit: 08e1e1c09f64926394043291a77856620d6f72b5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/15/2019
ms.locfileid: "34069362"
---
# <a name="plan-for-directory-synchronization-for-office-365"></a><span data-ttu-id="4b5f0-103">Pianificare la sincronizzazione della directory per Office 365</span><span class="sxs-lookup"><span data-stu-id="4b5f0-103">Plan for directory synchronization for Office 365</span></span>

<span data-ttu-id="4b5f0-104">A seconda delle esigenze aziendali e dei requisiti tecnici, la sincronizzazione della directory è la scelta di provisioning più comune per i clienti aziendali che si spostano su Office 365.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-104">Depending on business need and technical requirements, directory synchronization is the most common provisioning choice for enterprise customers who are moving to Office 365.</span></span> <span data-ttu-id="4b5f0-105">La sincronizzazione della directory consente la gestione delle identità in Active Directory locale e tutti gli aggiornamenti di tale identità vengono sincronizzati con Office 365.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-105">Directory synchronization allows identities to be managed in the on-premises Active Directory and all updates to that identity are synchronized to Office 365.</span></span>
  
<span data-ttu-id="4b5f0-106">Quando si pianifica un'implementazione della sincronizzazione della directory, inclusa la preparazione della directory e i requisiti e le funzionalità di Azure Active Directory, è necessario tenere presente un paio di considerazioni.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-106">There are a couple of things to keep in mind when you plan an implementation of directory synchronization, including directory preparation, and the requirements and functionality of the Azure Active Directory.</span></span> <span data-ttu-id="4b5f0-107">La preparazione della directory copre diverse aree.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-107">Directory preparation covers quite a few areas.</span></span> <span data-ttu-id="4b5f0-108">Sono inclusi gli aggiornamenti degli attributi, il controllo e la pianificazione del posizionamento dei controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-108">They include attribute updates, auditing, and planning domain controller placement.</span></span> <span data-ttu-id="4b5f0-109">I requisiti e le funzionalità di pianificazione includono la determinazione delle autorizzazioni necessarie, la pianificazione di scenari a più foreste e directory, la pianificazione della capacità e la sincronizzazione bidirezionale.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-109">Planning requirements and functionality includes determining the permissions that are required, planning for multi-forest/directory scenarios, capacity planning, and two-way synchronization.</span></span>
  
## <a name="office-365-identity-models"></a><span data-ttu-id="4b5f0-110">Modelli di identità di Office 365</span><span class="sxs-lookup"><span data-stu-id="4b5f0-110">Office 365 identity models</span></span>

<span data-ttu-id="4b5f0-111">Office 365 utilizza due principali modelli di autenticazione e identità: autenticazione del cloud e autenticazione federata.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-111">Office 365 uses two main authentication and identity models: cloud authentication and federated authentication.</span></span>
  
### <a name="cloud-authentication"></a><span data-ttu-id="4b5f0-112">Autenticazione del cloud</span><span class="sxs-lookup"><span data-stu-id="4b5f0-112">Cloud authentication</span></span>

<span data-ttu-id="4b5f0-113">[Identità cloud](about-office-365-identity.md) -creare e gestire gli utenti nell'interfaccia di [amministrazione di Microsoft 365](https://admin.microsoft.com), è anche possibile utilizzare Windows PowerShell o Azure Active Directory per gestire gli utenti.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-113">[Cloud identity](about-office-365-identity.md) - create and manage users in the [Microsoft 365 admin center](https://admin.microsoft.com), you can also use Windows PowerShell, or Azure Active Directory to manage your users.</span></span>
  
<span data-ttu-id="4b5f0-114">[Sincronizzazione hash delle password con Single Sign-on senza soluzione di continuità](about-office-365-identity.md) : il modo più semplice per abilitare l'autenticazione per gli oggetti directory locali in Azure ad.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-114">[Password hash sync with seamless single sign-on](about-office-365-identity.md) - The simplest way to enable authentication for on-premises directory objects in Azure AD.</span></span> <span data-ttu-id="4b5f0-115">Con la sincronizzazione degli hash delle password (pH), è possibile sincronizzare gli oggetti dell'account utente di Active Directory locale con Office 365 e gestire gli utenti in locale.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-115">With password hash sync (PHS), you synchronize your on-premises Active Directory user account objects with Office 365 and manage your users on-premises.</span></span>
  
<span data-ttu-id="4b5f0-116">[Autenticazione pass-through con Single Sign-on senza soluzione di continuità](about-office-365-identity.md) -fornisce una semplice convalida delle password per i servizi di autenticazione di Azure ad utilizzando un agente software in esecuzione su uno o più server locali per convalidare gli utenti direttamente con il proprio Active Directory locale.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-116">[Pass-through authentication with seamless single sign-on](about-office-365-identity.md) - Provides a simple password validation for Azure AD authentication services using a software agent running on one or more on-premises servers to validate the users directly with your on-premises Active Directory.</span></span>
  
### <a name="federated-authentication"></a><span data-ttu-id="4b5f0-117">Autenticazione federata</span><span class="sxs-lookup"><span data-stu-id="4b5f0-117">Federated authentication</span></span>

<span data-ttu-id="4b5f0-118">[Identità federata con Active Directory Federation Services ADFS](about-office-365-identity.md) -principalmente per organizzazioni aziendali di grandi dimensioni con requisiti di autenticazione più complessi, gli oggetti directory locali sono sincronizzati con Office 365 e gli account utente sono gestito in locale.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-118">[Federated identity with Active Directory Federation Services AD FS](about-office-365-identity.md) - Primarily for large enterprise organizations with more complex authentication requirements, on-premises directory objects are synchronized with Office 365 and users accounts are managed on-premises.</span></span>
  
<span data-ttu-id="4b5f0-119">[Autenticazione di terze parti e provider di identità](about-office-365-identity.md) -gli oggetti directory locali possono essere sincronizzati con Office 365 e l'accesso alle risorse cloud è gestito principalmente da un provider di identità di terze parti.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-119">[Third-party authentication and identity providers](about-office-365-identity.md) - On-premises directory objects may be synchronized to Office 365 and cloud resource access is primarily managed by a third-party identity provider (IdP).</span></span>
  
## <a name="active-directory-cleanup"></a><span data-ttu-id="4b5f0-120">Pulizia di Active Directory</span><span class="sxs-lookup"><span data-stu-id="4b5f0-120">Active Directory Cleanup</span></span>

<span data-ttu-id="4b5f0-121">Per garantire una transizione senza problemi a Office 365 mediante la sincronizzazione, è consigliabile preparare la foresta di Active Directory prima di iniziare la distribuzione della sincronizzazione della directory di Office 365.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-121">To help ensure a seamless transition to Office 365 by using synchronization, we highly recommend that you prepare your Active Directory forest before you begin your Office 365 directory synchronization deployment.</span></span>
  
<span data-ttu-id="4b5f0-122">Quando si [Configura la sincronizzazione della directory in Office 365](set-up-directory-synchronization.md), uno dei passaggi è [scaricare ed eseguire lo strumento IdFix](install-and-run-idfix.md).</span><span class="sxs-lookup"><span data-stu-id="4b5f0-122">When you [set up directory synchronization in Office 365](set-up-directory-synchronization.md), one of the steps is to [download and run the IdFix tool](install-and-run-idfix.md).</span></span> <span data-ttu-id="4b5f0-123">È possibile utilizzare lo strumento IdFix per facilitare la [pulizia della directory](prepare-directory-attributes-for-synch-with-idfix.md).</span><span class="sxs-lookup"><span data-stu-id="4b5f0-123">You can use the IdFix tool to help with the [directory cleanup](prepare-directory-attributes-for-synch-with-idfix.md).</span></span>
  
<span data-ttu-id="4b5f0-124">La pulizia della directory dovrebbe concentrarsi sulle attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="4b5f0-124">Your directory cleanup should focus on the following tasks:</span></span>

- <span data-ttu-id="4b5f0-125">Rimuovere gli attributi **ProxyAddress** e **userPrincipalName** duplicati.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-125">Remove duplicate **proxyAddress** and **userPrincipalName** attributes.</span></span>
- <span data-ttu-id="4b5f0-126">Aggiornare gli attributi **userPrincipalName** vuoti e non validi con gli attributi **userPrincipalName** validi.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-126">Update blank and invalid **userPrincipalName** attributes with valid **userPrincipalName** attributes.</span></span>
- <span data-ttu-id="4b5f0-127">Rimuovere i caratteri non validi e discutibili \*\*\*\* nelle DATENAME, cognome ( **sn** ), **sAMAccountName**, **DisplayName**, **mail**, **proxyAddresses**, **mailNickname**e **userPrincipalName** attributi.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-127">Remove invalid and questionable characters in the **givenName**, surname ( **sn** ), **sAMAccountName**, **displayName**, **mail**, **proxyAddresses**, **mailNickname**, and **userPrincipalName** attributes.</span></span> <span data-ttu-id="4b5f0-128">Per informazioni dettagliate sulla preparazione degli attributi, vedere [l'elenco degli attributi sincronizzati tramite lo strumento di sincronizzazione di Azure Active Directory](https://go.microsoft.com/fwlink/p/?LinkId=396719).</span><span class="sxs-lookup"><span data-stu-id="4b5f0-128">For details about preparing attributes, see [List of attributes that are synced by the Azure Active Directory Sync Tool](https://go.microsoft.com/fwlink/p/?LinkId=396719).</span></span>

    > [!NOTE]
    > <span data-ttu-id="4b5f0-129">Questi sono gli stessi attributi che Azure AD Connect sincronizza.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-129">These are the same attributes that Azure AD Connect syncs.</span></span> 
  
## <a name="multi-forest-deployment-considerations"></a><span data-ttu-id="4b5f0-130">Considerazioni sulla distribuzione di più foreste</span><span class="sxs-lookup"><span data-stu-id="4b5f0-130">Multi-forest Deployment Considerations</span></span>

<span data-ttu-id="4b5f0-131">Per più foreste e opzioni SSO, utilizzare l' [installazione personalizzata di Azure ad Connect](https://go.microsoft.com/fwlink/p/?LinkId=698430).</span><span class="sxs-lookup"><span data-stu-id="4b5f0-131">For multiple forests and SSO options, use [Custom Installation of Azure AD Connect](https://go.microsoft.com/fwlink/p/?LinkId=698430).</span></span>
  
<span data-ttu-id="4b5f0-132">Se l'organizzazione dispone di più foreste per l'autenticazione (foreste di accesso), è consigliabile eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="4b5f0-132">If your organization has multiple forests for authentication (logon forests), we highly recommend the following:</span></span>
  
- <span data-ttu-id="4b5f0-133">**Valutare il consolidamento delle foreste.**</span><span class="sxs-lookup"><span data-stu-id="4b5f0-133">**Evaluate consolidating your forests.**</span></span> <span data-ttu-id="4b5f0-134">In generale, è necessario un sovraccarico maggiore per la gestione di più foreste.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-134">In general, there's more overhead required to maintain multiple forests.</span></span> <span data-ttu-id="4b5f0-135">A meno che l'organizzazione non disponga di vincoli di sicurezza che determinano la necessità di foreste separate, valutare la possibilità di semplificare l'ambiente locale.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-135">Unless your organization has security constraints that dictate the need for separate forests, consider simplifying your on-premises environment.</span></span>
- <span data-ttu-id="4b5f0-136">**Utilizzare solo nella foresta di accesso principale.**</span><span class="sxs-lookup"><span data-stu-id="4b5f0-136">**Use only in your primary logon forest.**</span></span> <span data-ttu-id="4b5f0-137">Valutare la possibilità di distribuire Office 365 solo nella foresta di accesso principale per l'implementazione iniziale di Office 365.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-137">Consider deploying Office 365 only in your primary logon forest for your initial rollout of Office 365.</span></span> 

<span data-ttu-id="4b5f0-138">Se non è possibile consolidare la distribuzione di Active Directory a più foreste o se si utilizzano altri servizi directory per gestire le identità, potrebbe essere possibile sincronizzarle con l'aiuto di Microsoft o di un partner.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-138">If you can't consolidate your multi-forest Active Directory deployment or are using other directory services to manage identities, you may be able to synchronize these with the help of Microsoft or a partner.</span></span>
  
<span data-ttu-id="4b5f0-139">Per ulteriori informazioni, vedere [scenario di sincronizzazione della directory con Single Sign-on](https://go.microsoft.com/fwlink/p/?LinkId=525321).</span><span class="sxs-lookup"><span data-stu-id="4b5f0-139">For more information, see [Multi-forest Directory Sync with Single Sign-On Scenario](https://go.microsoft.com/fwlink/p/?LinkId=525321).</span></span>
  
## <a name="directory-integration-tools"></a><span data-ttu-id="4b5f0-140">Strumenti di integrazione della directory</span><span class="sxs-lookup"><span data-stu-id="4b5f0-140">Directory integration tools</span></span>

<span data-ttu-id="4b5f0-141">La sincronizzazione della directory è la sincronizzazione degli oggetti directory (utenti, gruppi e contatti) dall'ambiente Active Directory locale all'infrastruttura di directory di Office 365.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-141">Directory synchronization is the synchronization of directory objects (users, groups, and contacts) from your on-premises Active Directory environment to the Office 365 directory infrastructure.</span></span> <span data-ttu-id="4b5f0-142">Per un elenco degli strumenti disponibili e delle relative funzionalità, vedere [Directory Integration Tools](https://go.microsoft.com/fwlink/p/?LinkID=510956) .</span><span class="sxs-lookup"><span data-stu-id="4b5f0-142">See [directory integration tools](https://go.microsoft.com/fwlink/p/?LinkID=510956) for a list of the available tools and their functionality.</span></span> <span data-ttu-id="4b5f0-143">Lo strumento consigliato per l'utilizzo è [Azure Active Directory Connect](https://go.microsoft.com/fwlink/?LinkId=525323).</span><span class="sxs-lookup"><span data-stu-id="4b5f0-143">The recommended tool to use is [Azure Active Directory Connect](https://go.microsoft.com/fwlink/?LinkId=525323).</span></span>
  
<span data-ttu-id="4b5f0-144">Quando gli account utente vengono sincronizzati con la directory di Office 365 per la prima volta, vengono contrassegnati come non attivati.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-144">When user accounts are synchronized with the Office 365 directory for the first time, they are marked as non-activated.</span></span> <span data-ttu-id="4b5f0-145">Non possono inviare o ricevere messaggi di posta elettronica e non utilizzano licenze di sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-145">They cannot send or receive email, and they don't consume subscription licenses.</span></span> <span data-ttu-id="4b5f0-146">Quando si è pronti per assegnare abbonamenti a Office 365 a utenti specifici, è necessario selezionarli e attivarli assegnando una licenza valida.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-146">When you're ready to assign Office 365 subscriptions to specific users, you must select and activate them by assigning a valid license.</span></span>
  
<span data-ttu-id="4b5f0-147">La sincronizzazione della directory è necessaria per le caratteristiche e le funzionalità seguenti:</span><span class="sxs-lookup"><span data-stu-id="4b5f0-147">Directory synchronization is required for the following features and functionality:</span></span>
  
- <span data-ttu-id="4b5f0-148">SSO</span><span class="sxs-lookup"><span data-stu-id="4b5f0-148">SSO</span></span>
- <span data-ttu-id="4b5f0-149">Coesistenza Skype</span><span class="sxs-lookup"><span data-stu-id="4b5f0-149">Skype coexistence</span></span>
- <span data-ttu-id="4b5f0-150">Distribuzione ibrida di Exchange, tra cui:</span><span class="sxs-lookup"><span data-stu-id="4b5f0-150">Exchange hybrid deployment, including:</span></span>
  - <span data-ttu-id="4b5f0-151">Elenco indirizzi globale (GAL, Global Address List) completamente condiviso tra l'ambiente Exchange locale e Office 365.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-151">Fully shared global address list (GAL) between your on-premises Exchange environment and Office 365.</span></span>
  - <span data-ttu-id="4b5f0-152">Sincronizzazione delle informazioni dell'elenco indirizzi globale da diversi sistemi di posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-152">Synchronizing GAL information from different mail systems.</span></span>
  - <span data-ttu-id="4b5f0-153">La possibilità di aggiungere gli utenti a e rimuovere gli utenti dalle offerte di servizi di Office 365.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-153">The ability to add users to and remove users from Office 365 service offerings.</span></span> <span data-ttu-id="4b5f0-154">Per questo è necessario quanto segue:</span><span class="sxs-lookup"><span data-stu-id="4b5f0-154">This requires the following:</span></span>
  - <span data-ttu-id="4b5f0-155">La sincronizzazione bidirezionale deve essere configurata durante la configurazione della sincronizzazione della directory.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-155">Two-way synchronization must be configured during directory synchronization setup.</span></span> <span data-ttu-id="4b5f0-156">Per impostazione predefinita, gli strumenti di sincronizzazione della directory scrivono le informazioni della directory solo nel cloud.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-156">By default, directory synchronization tools write directory information only to the cloud.</span></span> <span data-ttu-id="4b5f0-157">Quando si configura la sincronizzazione bidirezionale, è possibile abilitare la funzionalità di write-back in modo che un numero limitato di attributi oggetto venga copiato dal cloud e quindi riscritto in Active Directory locale.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-157">When you configure two-way synchronization, you enable write-back functionality so that a limited number of object attributes are copied from the cloud, and then written them back to your local Active Directory.</span></span> <span data-ttu-id="4b5f0-158">Il write-back è noto anche come modalità ibrida di Exchange.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-158">Write-back is also referred to as Exchange hybrid mode.</span></span> 
  - <span data-ttu-id="4b5f0-159">Una distribuzione ibrida di Exchange locale</span><span class="sxs-lookup"><span data-stu-id="4b5f0-159">An on-premises Exchange hybrid deployment</span></span>
  - <span data-ttu-id="4b5f0-160">La possibilità di spostare le cassette postali degli utenti in Office 365 mantenendo le cassette postali degli utenti locali.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-160">The ability to move some user mailboxes to Office 365 while keeping other user mailboxes on-premises.</span></span>
  - <span data-ttu-id="4b5f0-161">I mittenti attendibili e i mittenti bloccati in locale vengono replicati in Office 365.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-161">Safe senders and blocked senders on-premises are replicated to Office 365.</span></span>
  - <span data-ttu-id="4b5f0-162">La delega di base e la funzionalità di invio per conto di posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-162">Basic delegation and send-on-behalf-of email functionality.</span></span>
  - <span data-ttu-id="4b5f0-163">Si dispone di una soluzione di autenticazione con smart card o multi-factor integrata.</span><span class="sxs-lookup"><span data-stu-id="4b5f0-163">You have an integrated on-premises smart card or multi-factor authentication solution.</span></span>
- <span data-ttu-id="4b5f0-164">Sincronizzazione di foto, miniature, sale conferenze e gruppi di sicurezza</span><span class="sxs-lookup"><span data-stu-id="4b5f0-164">Synchronization of photos, thumbnails, conference rooms, and security groups</span></span>